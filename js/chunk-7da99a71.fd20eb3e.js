(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7da99a71"],{"0f9d":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("j-select-biz-component",t._g(t._b({attrs:{value:t.value,listUrl:t.url.list,columns:t.columns}},"j-select-biz-component",t.attrs,!1),t.$listeners))},r=[],s=a("b296"),o={name:"JSelectMultiUser",components:{JSelectBizComponent:s["default"]},props:["value"],data:function(){return{url:{list:"/sys/user/list"},columns:[{title:"姓名",align:"center",width:"20%",widthRight:"70%",dataIndex:"realname"},{title:"账号",align:"center",width:"20%",dataIndex:"username"},{title:"电话",align:"center",width:"23%",dataIndex:"phone"},{title:"出生日期",align:"center",width:"23%",dataIndex:"birthday"}],default:{name:"用户",width:1e3,displayKey:"realname",returnKeys:["id","username"],queryParamText:"账号"}}},computed:{attrs:function(){return Object.assign(this.default,this.$attrs)}}},i=o,l=a("2877"),c=Object(l["a"])(i,n,r,!1,null,"ad206824",null);e["default"]=c.exports},3973:function(t,e,a){},"39b5":function(t,e,a){"use strict";var n=a("3973"),r=a.n(n);r.a},"78f1":function(t,e,a){},9677:function(t,e,a){"use strict";var n=a("78f1"),r=a.n(n);r.a},c17d:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a-card",{class:{abcdefg:!0},attrs:{bordered:!1}},["false"==t.printflag?a("div",{staticClass:"no-print",staticStyle:{"text-align":"right"}},[a("a-button",{directives:[{name:"print",rawName:"v-print",value:"#printContent",expression:"'#printContent'"}],attrs:{ghost:"",type:"primary"},on:{click:function(e){return t.handlePrint()}}},[t._v("打印")]),a("a-button",{staticStyle:{"margin-left":"10px"},attrs:{ghost:"",type:"primary"},on:{click:function(e){return t.handleQRcode()}}},[t._v("分享")])],1):t._e(),a("section",{ref:"print",staticClass:"abcdefg",attrs:{id:"printContent"}},[a("div",{staticStyle:{"text-align":"center"}},[a("p",{staticStyle:{"font-size":"24px","font-weight":"800","margin-bottom":"35px","margin-top":"15px"}},[t._v(t._s(t.formName))])]),a("a-col",{attrs:{md:24,sm:24}},[a("div",{staticClass:"sign",staticStyle:{"text-align":"left",height:"inherit","margin-left":"35px"}},[t.isNull(t.curRow.no)?t._e():a("a-col",{staticStyle:{"margin-top":"10px","margin-bottom":"10px"},attrs:{span:24}},[a("span",{staticStyle:{float:"left",display:"block"}},[t._v(t._s(t.tableInfo.no)+":")]),a("div",{staticStyle:{float:"left",width:"88%",display:"block","border-bottom":"1px solid #cecece","padding-left":"20px"},domProps:{innerHTML:t._s(t.curRow.no)}})]),t.isNull(t.curRow.file_name)?t._e():a("a-col",{staticStyle:{"margin-top":"10px","margin-bottom":"10px"},attrs:{span:24}},[a("span",{staticStyle:{float:"left",display:"block"}},[t._v(t._s(t.curRow.fileNameTitle)+":")]),a("div",{staticStyle:{float:"left",width:"88%",display:"block","border-bottom":"1px solid #cecece","padding-left":"20px"},domProps:{innerHTML:t._s(t.curRow.file_name)}})]),t.isNull(t.curRow.task_title)?t._e():a("a-col",{staticStyle:{"margin-top":"10px","margin-bottom":"10px"},attrs:{span:24}},[a("span",{staticStyle:{float:"left",display:"block"}},[t._v(t._s(t.tableInfo.task_title)+":")]),a("div",{staticStyle:{float:"left",width:"88%",display:"block","border-bottom":"1px solid #cecece","padding-left":"20px"},domProps:{innerHTML:t._s(t.curRow.task_title)}})]),t.isNull(t.curRow.plan_title)?t._e():a("a-col",{staticStyle:{"margin-top":"10px","margin-bottom":"10px"},attrs:{span:24}},[a("span",{staticStyle:{float:"left",display:"block"}},[t._v(t._s(t.tableInfo.plan_title)+":")]),a("div",{staticStyle:{float:"left",width:"88%",display:"block","border-bottom":"1px solid #cecece","padding-left":"20px"},domProps:{innerHTML:t._s(t.curRow.plan_title)}})]),t.isNull(t.curRow.sigillum_name)?t._e():a("a-col",{staticStyle:{"margin-top":"10px","margin-bottom":"10px"},attrs:{span:24}},[a("span",{staticStyle:{float:"left",display:"block"}},[t._v(t._s(t.tableInfo.sigillum_name)+":")]),a("div",{staticStyle:{float:"left",width:"88%",display:"block","border-bottom":"1px solid #cecece","padding-left":"20px"},domProps:{innerHTML:t._s(t.curRow.sigillum_name)}})]),t.isNull(t.curRow.create_by)?t._e():a("a-col",{staticStyle:{"margin-top":"10px","margin-bottom":"10px"},attrs:{span:12}},[a("span",[t._v(t._s(t.tableInfo.create_by)+":")]),a("a-input",{staticStyle:{width:"70%"},attrs:{readonly:""},model:{value:t.curRow.create_by,callback:function(e){t.$set(t.curRow,"create_by",e)},expression:"curRow.create_by"}})],1),t.isNull(t.curRow.create_time)?t._e():a("a-col",{staticStyle:{"margin-top":"10px","margin-bottom":"10px"},attrs:{span:12}},[a("span",{staticStyle:{"margin-left":"0%"}},[t._v(t._s(t.tableInfo.create_time)+":")]),a("a-input",{staticStyle:{width:"70%"},attrs:{readonly:""},model:{value:t.curRow.create_time,callback:function(e){t.$set(t.curRow,"create_time",e)},expression:"curRow.create_time"}})],1),t.isNull(t.curRow.type)?t._e():a("a-col",{staticStyle:{"margin-top":"10px","margin-bottom":"10px"},attrs:{span:12}},[a("span",{staticStyle:{"margin-left":"0%"}},[t._v(t._s(t.tableInfo.type)+":")]),a("a-input",{staticStyle:{width:"70%"},attrs:{readonly:""},model:{value:t.curRow.type,callback:function(e){t.$set(t.curRow,"type",e)},expression:"curRow.type"}})],1),t.isNull(t.curRow.level)?t._e():a("a-col",{staticStyle:{"margin-top":"10px","margin-bottom":"10px"},attrs:{span:12}},[a("span",{staticStyle:{"margin-left":"0%"}},[t._v(t._s(t.tableInfo.level)+":")]),a("a-input",{staticStyle:{width:"70%"},attrs:{readonly:""},model:{value:t.curRow.level,callback:function(e){t.$set(t.curRow,"level",e)},expression:"curRow.level"}})],1),t.isNull(t.curRow.slevel)?t._e():a("a-col",{staticStyle:{"margin-top":"10px","margin-bottom":"10px"},attrs:{span:12}},[a("span",{staticStyle:{"margin-left":"0%"}},[t._v(t._s(t.tableInfo.slevel)+":")]),a("a-input",{staticStyle:{width:"70%"},attrs:{readonly:""},model:{value:t.curRow.slevel,callback:function(e){t.$set(t.curRow,"slevel",e)},expression:"curRow.slevel"}})],1),t.isNull(t.curRow.offline_auth)?t._e():a("a-col",{staticStyle:{"margin-top":"10px","margin-bottom":"10px"},attrs:{span:12}},[a("span",{staticStyle:{"margin-left":"0%"}},[t._v(t._s(t.tableInfo.offline_auth)+":")]),a("a-input",{staticStyle:{width:"70%"},attrs:{readonly:""},model:{value:t.curRow.offline_auth,callback:function(e){t.$set(t.curRow,"offline_auth",e)},expression:"curRow.offline_auth"}})],1),t.isNull(t.curRow.company_name)?t._e():a("a-col",{staticStyle:{"margin-top":"10px","margin-bottom":"10px"},attrs:{span:12}},[a("span",{staticStyle:{"margin-left":"0%"}},[t._v(t._s(t.tableInfo.company_name)+":")]),a("a-input",{staticStyle:{width:"70%"},attrs:{readonly:""},model:{value:t.curRow.company_name,callback:function(e){t.$set(t.curRow,"company_name",e)},expression:"curRow.company_name"}})],1),t.isNull(t.curRow.work_load)?t._e():a("a-col",{staticStyle:{"margin-top":"10px","margin-bottom":"10px"},attrs:{span:12}},[a("span",{staticStyle:{"margin-left":"0%"}},[t._v(t._s(t.tableInfo.work_load)+":")]),a("a-input",{staticStyle:{width:"70%"},attrs:{readonly:""},model:{value:t.curRow.work_load,callback:function(e){t.$set(t.curRow,"work_load",e)},expression:"curRow.work_load"}})],1),t.isNull(t.curRow.complete_date)||"--"==t.curRow.complete_date?t._e():a("a-col",{staticStyle:{"margin-top":"10px","margin-bottom":"10px"},attrs:{span:12}},[a("span",{staticStyle:{"margin-left":"0%"}},[t._v(t._s(t.tableInfo.complete_date)+":")]),a("a-input",{staticStyle:{width:"70%"},attrs:{readonly:""},model:{value:t.curRow.complete_date,callback:function(e){t.$set(t.curRow,"complete_date",e)},expression:"curRow.complete_date"}})],1),t.isNull(t.curRow.depart_name)?t._e():a("a-col",{staticStyle:{"margin-top":"10px","margin-bottom":"10px"},attrs:{span:12}},[a("span",[t._v(t._s(t.tableInfo.depart_name)+":")]),a("a-input",{staticStyle:{width:"70%"},attrs:{readonly:""},model:{value:t.curRow.depart_name,callback:function(e){t.$set(t.curRow,"depart_name",e)},expression:"curRow.depart_name"}})],1),t.isNull(t.curRow.pid)?t._e():a("a-col",{staticStyle:{"margin-top":"10px","margin-bottom":"10px"},attrs:{span:12}},[a("span",[t._v(t._s(t.tableInfo.pid)+":")]),a("a-input",{staticStyle:{width:"70%"},attrs:{readonly:""},model:{value:t.curRow.pid,callback:function(e){t.$set(t.curRow,"pid",e)},expression:"curRow.pid"}})],1),t.isNull(t.curRow.task_exector)?t._e():a("a-col",{staticStyle:{"margin-top":"10px","margin-bottom":"10px"},attrs:{span:12}},[a("span",[t._v(t._s(t.tableInfo.task_exector)+":")]),a("a-input",{staticStyle:{width:"70%"},attrs:{readonly:""},model:{value:t.curRow.task_exector,callback:function(e){t.$set(t.curRow,"task_exector",e)},expression:"curRow.task_exector"}})],1),t.isNull(t.curRow.employee)?t._e():a("a-col",{staticStyle:{"margin-top":"10px","margin-bottom":"10px"},attrs:{span:12}},[a("span",[t._v(t._s(t.tableInfo.employee)+":")]),a("a-input",{staticStyle:{width:"70%"},attrs:{readonly:""},model:{value:t.curRow.employee,callback:function(e){t.$set(t.curRow,"employee",e)},expression:"curRow.employee"}})],1),t.isNull(t.curRow.work_date)||"--"==t.curRow.work_date?t._e():a("a-col",{staticStyle:{"margin-top":"10px","margin-bottom":"10px"},attrs:{span:12}},[a("span",[t._v(t._s(t.tableInfo.work_date)+":")]),a("a-input",{staticStyle:{width:"70%"},attrs:{readonly:""},model:{value:t.curRow.work_date,callback:function(e){t.$set(t.curRow,"work_date",e)},expression:"curRow.work_date"}})],1),t.isNull(t.curRow.report_date)||"--"==t.curRow.report_date?t._e():a("a-col",{staticStyle:{"margin-top":"10px","margin-bottom":"10px"},attrs:{span:12}},[a("span",[t._v(t._s(t.tableInfo.report_date)+":")]),a("a-input",{staticStyle:{width:"70%"},attrs:{readonly:""},model:{value:t.curRow.report_date,callback:function(e){t.$set(t.curRow,"report_date",e)},expression:"curRow.report_date"}})],1),t.isNull(t.curRow.report_leader)?t._e():a("a-col",{staticStyle:{"margin-top":"10px","margin-bottom":"10px"},attrs:{span:12}},[a("span",[t._v(t._s(t.tableInfo.report_leader)+":")]),a("a-input",{staticStyle:{width:"70%"},attrs:{readonly:""},model:{value:t.curRow.report_leader,callback:function(e){t.$set(t.curRow,"report_leader",e)},expression:"curRow.report_leader"}})],1),t.isNull(t.curRow.leave_type_name)?t._e():a("a-col",{staticStyle:{"margin-top":"10px","margin-bottom":"10px"},attrs:{span:12}},[a("span",{staticStyle:{"margin-left":"0%"}},[t._v(t._s(t.curRow.formTypeName)+"类型:")]),a("a-input",{staticStyle:{width:"70%"},attrs:{readonly:""},model:{value:t.curRow.leave_type_name,callback:function(e){t.$set(t.curRow,"leave_type_name",e)},expression:"curRow.leave_type_name"}})],1),t.isNull(t.curRow.announce_type)?t._e():a("a-col",{staticStyle:{"margin-top":"10px","margin-bottom":"10px"},attrs:{span:12}},[a("span",{staticStyle:{"margin-left":"0%"}},[t._v(t._s(t.tableInfo.announce_type)+":")]),a("a-input",{staticStyle:{width:"70%"},attrs:{readonly:""},model:{value:t.curRow.announce_type,callback:function(e){t.$set(t.curRow,"announce_type",e)},expression:"curRow.announce_type"}})],1),t.isNull(t.curRow.title)?t._e():a("a-col",{staticStyle:{"margin-top":"10px","margin-bottom":"10px"},attrs:{span:12}},[a("span",{staticStyle:{"margin-left":"0%"}},[t._v(t._s(t.tableInfo.title)+":")]),a("a-input",{staticStyle:{width:"70%"},attrs:{readonly:""},model:{value:t.curRow.title,callback:function(e){t.$set(t.curRow,"title",e)},expression:"curRow.title"}})],1),t.isNull(t.tableInfo.employee_rank)?t._e():a("a-col",{staticStyle:{"margin-top":"10px","margin-bottom":"10px"},attrs:{span:24}},[a("a-col",{attrs:{span:12}},[a("span",[t._v(t._s(t.tableInfo.employee_rank)+":")]),a("a-input",{staticStyle:{width:"70%"},attrs:{readonly:""},model:{value:t.curRow.employee_rank,callback:function(e){t.$set(t.curRow,"employee_rank",e)},expression:"curRow.employee_rank"}})],1)],1),t.isNull(t.tableInfo.starttime)?t._e():a("a-col",{staticStyle:{"margin-top":"10px","margin-bottom":"10px"},attrs:{span:12}},[a("span",[t._v(t._s(t.tableInfo.starttime)+":")]),a("a-input",{staticStyle:{width:"70%"},attrs:{readonly:""},model:{value:t.curRow.starttime,callback:function(e){t.$set(t.curRow,"starttime",e)},expression:"curRow.starttime"}})],1),t.isNull(t.tableInfo.endtime)?t._e():a("a-col",{staticStyle:{"margin-top":"10px","margin-bottom":"10px"},attrs:{span:12}},[a("span",{staticStyle:{"margin-left":"0%"}},[t._v(t._s(t.tableInfo.endtime)+":")]),a("a-input",{staticStyle:{width:"70%"},attrs:{readonly:""},model:{value:t.curRow.endtime,callback:function(e){t.$set(t.curRow,"endtime",e)},expression:"curRow.endtime"}})],1),t.isNull(t.tableInfo.total_days)?t._e():a("a-col",{staticStyle:{"margin-top":"10px","margin-bottom":"10px"},attrs:{span:12}},[a("span",[t._v(t._s(t.tableInfo.total_days)+":")]),a("a-input",{staticStyle:{width:"70%"},attrs:{readonly:""},model:{value:t.curRow.total_days,callback:function(e){t.$set(t.curRow,"total_days",e)},expression:"curRow.total_days"}})],1),t.isNull(t.tableInfo.seal_copies)?t._e():a("a-col",{staticStyle:{"margin-top":"10px","margin-bottom":"10px"},attrs:{span:12}},[a("span",[t._v(t._s(t.tableInfo.seal_copies)+":")]),a("a-input",{staticStyle:{width:"70%"},attrs:{readonly:""},model:{value:t.curRow.seal_copies,callback:function(e){t.$set(t.curRow,"seal_copies",e)},expression:"curRow.seal_copies"}})],1),t.isNull(t.tableInfo.declare_type)?t._e():a("a-col",{staticStyle:{"margin-top":"10px","margin-bottom":"10px"},attrs:{span:12}},[a("span",[t._v(t._s(t.tableInfo.declare_type)+":")]),a("a-input",{staticStyle:{width:"70%"},attrs:{readonly:""},model:{value:t.curRow.declare_type,callback:function(e){t.$set(t.curRow,"declare_type",e)},expression:"curRow.declare_type"}})],1),t.isNull(t.tableInfo.status)?t._e():a("a-col",{staticStyle:{"margin-top":"10px","margin-bottom":"10px"},attrs:{span:12}},[a("span",[t._v(t._s(t.tableInfo.status)+":")]),a("a-input",{staticStyle:{width:"70%"},attrs:{readonly:""},model:{value:t.curRow.status,callback:function(e){t.$set(t.curRow,"status",e)},expression:"curRow.status"}})],1),t.isNull(t.tableInfo.bpm_status)?t._e():a("a-col",{staticStyle:{"margin-top":"10px","margin-bottom":"10px"},attrs:{span:12}},[a("span",{staticStyle:{"margin-left":"0%"}},[t._v(t._s(t.tableInfo.bpm_status)+":")]),a("a-input",{staticStyle:{width:"70%"},attrs:{readonly:""},model:{value:t.curRow.bpm_status_name,callback:function(e){t.$set(t.curRow,"bpm_status_name",e)},expression:"curRow.bpm_status_name"}})],1),a("a-col",{attrs:{span:24}}),t.isNull(t.curRow.seal_name)?t._e():a("a-col",{staticStyle:{"margin-top":"10px","margin-bottom":"10px"},attrs:{span:24}},[a("span",{staticStyle:{float:"left",display:"block"}},[t._v(t._s(t.tableInfo.seal_name)+":")]),a("div",{staticStyle:{float:"left",width:"88%",display:"block","border-bottom":"1px solid #cecece","padding-left":"20px"},domProps:{innerHTML:t._s(t.curRow.seal_name)}})]),t.isNull(t.curRow.employee_post)?t._e():a("a-col",{staticStyle:{"margin-top":"10px","margin-bottom":"10px"},attrs:{span:12}},[a("span",{staticStyle:{"margin-left":"28px"}},[t._v(t._s(t.tableInfo.employee_post)+":")]),a("a-input",{staticStyle:{width:"70%"},attrs:{readonly:""},model:{value:t.curRow.employee_post,callback:function(e){t.$set(t.curRow,"employee_post",e)},expression:"curRow.employee_post"}})],1),t.isNull(t.curRow.traffic_models)?t._e():a("a-col",{staticStyle:{"margin-top":"10px","margin-bottom":"10px"},attrs:{span:12}},[a("span",{staticStyle:{"margin-left":"28px"}},[t._v(t._s(t.tableInfo.traffic_models)+":")]),a("a-input",{staticStyle:{width:"70%"},attrs:{readonly:""},model:{value:t.curRow.traffic_models,callback:function(e){t.$set(t.curRow,"traffic_models",e)},expression:"curRow.traffic_models"}})],1),t.isNull(t.curRow.licence_number)?t._e():a("a-col",{staticStyle:{"margin-top":"10px","margin-bottom":"10px"},attrs:{span:12}},[a("span",{staticStyle:{"margin-left":"14px"}},[t._v(t._s(t.tableInfo.licence_number)+":")]),a("a-input",{staticStyle:{width:"70%"},attrs:{readonly:""},model:{value:t.curRow.licence_number,callback:function(e){t.$set(t.curRow,"licence_number",e)},expression:"curRow.licence_number"}})],1),t.isNull(t.curRow.traffic_amount)?t._e():a("a-col",{staticStyle:{"margin-top":"10px","margin-bottom":"10px"},attrs:{span:12}},[a("span",{staticStyle:{"margin-left":"28px"}},[t._v(t._s(t.tableInfo.traffic_amount.padStart(4," "))+":")]),a("a-input",{staticStyle:{width:"70%"},attrs:{readonly:""},model:{value:t.curRow.traffic_amount,callback:function(e){t.$set(t.curRow,"traffic_amount",e)},expression:"curRow.traffic_amount"}})],1),t.isNull(t.curRow.purchase_type)?t._e():a("a-col",{staticStyle:{"margin-top":"10px","margin-bottom":"10px"},attrs:{span:12}},[a("span",[t._v(t._s(t.tableInfo.purchase_type)+":")]),a("a-input",{staticStyle:{width:"70%"},attrs:{readonly:""},model:{value:t.curRow.purchase_type,callback:function(e){t.$set(t.curRow,"purchase_type",e)},expression:"curRow.purchase_type"}})],1),t.isNull(t.curRow.purchase_date)||"--"==t.curRow.purchase_date?t._e():a("a-col",{staticStyle:{"margin-top":"10px","margin-bottom":"10px"},attrs:{span:12}},[a("span",[t._v(t._s(t.tableInfo.purchase_date)+":")]),a("a-input",{staticStyle:{width:"62%"},attrs:{readonly:""},model:{value:t.curRow.purchase_date,callback:function(e){t.$set(t.curRow,"purchase_date",e)},expression:"curRow.purchase_date"}})],1),t.isNull(t.curRow.apply_date)||"--"==t.curRow.apply_date?t._e():a("a-col",{staticStyle:{"margin-top":"10px","margin-bottom":"10px"},attrs:{span:12}},[a("span",[t._v(t._s(t.tableInfo.apply_date)+":")]),a("a-input",{staticStyle:{width:"70%"},attrs:{readonly:""},model:{value:t.curRow.apply_date,callback:function(e){t.$set(t.curRow,"apply_date",e)},expression:"curRow.apply_date"}})],1),t.isNull(t.curRow.seal_type)?t._e():a("a-col",{staticStyle:{"margin-top":"10px","margin-bottom":"10px"},attrs:{span:12}},[a("span",[t._v(t._s(t.tableInfo.seal_type)+":")]),a("a-input",{staticStyle:{width:"70%"},attrs:{readonly:""},model:{value:t.curRow.seal_type,callback:function(e){t.$set(t.curRow,"seal_type",e)},expression:"curRow.seal_type"}})],1),t.isNull(t.curRow.file_name)?t._e():a("a-col",{staticStyle:{"margin-top":"10px","margin-bottom":"10px"},attrs:{span:12}},[a("span",[t._v(t._s(t.tableInfo.file_name)+":")]),a("a-input",{staticStyle:{width:"70%"},attrs:{readonly:""},model:{value:t.curRow.file_name,callback:function(e){t.$set(t.curRow,"file_name",e)},expression:"curRow.file_name"}})],1),t.isNull(t.curRow.file_count)?t._e():a("a-col",{staticStyle:{"margin-top":"10px","margin-bottom":"10px"},attrs:{span:12}},[a("span",[t._v(t._s(t.tableInfo.file_count)+":")]),a("a-input",{staticStyle:{width:"70%"},attrs:{readonly:""},model:{value:t.curRow.file_count,callback:function(e){t.$set(t.curRow,"file_count",e)},expression:"curRow.file_count"}})],1),t.isNull(t.curRow.start_time)||"--"==t.curRow.start_time?t._e():a("a-col",{staticStyle:{"margin-top":"10px","margin-bottom":"10px"},attrs:{span:12}},[a("span",[t._v(t._s(t.tableInfo.start_time)+":")]),a("a-input",{staticStyle:{width:"70%"},attrs:{readonly:""},model:{value:t.curRow.start_time,callback:function(e){t.$set(t.curRow,"start_time",e)},expression:"curRow.start_time"}})],1),t.isNull(t.curRow.end_time)||"--"==t.curRow.end_time?t._e():a("a-col",{staticStyle:{"margin-top":"10px","margin-bottom":"10px"},attrs:{span:12}},[a("span",[t._v(t._s(t.tableInfo.end_time)+":")]),a("a-input",{staticStyle:{width:"70%"},attrs:{readonly:""},model:{value:t.curRow.end_time,callback:function(e){t.$set(t.curRow,"end_time",e)},expression:"curRow.end_time"}})],1),t.isNull(t.curRow.real_start_time)||"--"==t.curRow.real_start_time?t._e():a("a-col",{staticStyle:{"margin-top":"10px","margin-bottom":"10px"},attrs:{span:12}},[a("span",[t._v(t._s(t.tableInfo.real_start_time)+":")]),a("a-input",{staticStyle:{width:"70%"},attrs:{readonly:""},model:{value:t.curRow.real_start_time,callback:function(e){t.$set(t.curRow,"real_start_time",e)},expression:"curRow.real_start_time"}})],1),t.isNull(t.curRow.real_end_time)||"--"==t.curRow.real_end_time?t._e():a("a-col",{staticStyle:{"margin-top":"10px","margin-bottom":"10px"},attrs:{span:12}},[a("span",[t._v(t._s(t.tableInfo.real_end_time)+":")]),a("a-input",{staticStyle:{width:"70%"},attrs:{readonly:""},model:{value:t.curRow.real_end_time,callback:function(e){t.$set(t.curRow,"real_end_time",e)},expression:"curRow.real_end_time"}})],1),t.isNull(t.curRow.content)?t._e():a("a-col",{staticStyle:{"margin-top":"20px","margin-bottom":"10px"},attrs:{span:24}},[a("span",{staticStyle:{float:"left",display:"block"}},[t._v(t._s(t.tableInfo.content)+":")]),a("div",{staticStyle:{float:"left",width:"88%",display:"block","border-bottom":"1px solid #cecece","padding-left":"20px"},domProps:{innerHTML:t._s(t.curRow.content)}})]),t.isNull(t.curRow.entourage)?t._e():a("a-col",{staticStyle:{"margin-top":"20px","margin-bottom":"10px"},attrs:{span:24}},[a("span",{staticStyle:{float:"left",display:"block"}},[t._v(t._s(t.tableInfo.entourage)+":")]),a("div",{staticStyle:{float:"left",width:"88%",display:"block","border-bottom":"1px solid #cecece","padding-left":"20px"},domProps:{innerHTML:t._s(t.curRow.entourage)}})]),t.isNull(t.tableInfo.travel_address)?t._e():a("a-col",{staticStyle:{"margin-top":"10px","margin-bottom":"10px"},attrs:{span:12}},[a("span",[t._v(t._s(t.tableInfo.travel_address)+":")]),a("a-input",{staticStyle:{width:"70%"},attrs:{readonly:""},model:{value:t.curRow.travel_address,callback:function(e){t.$set(t.curRow,"travel_address",e)},expression:"curRow.travel_address"}})],1),t.isNull(t.tableInfo.predict_fee)?t._e():a("a-col",{staticStyle:{"margin-top":"10px","margin-bottom":"10px"},attrs:{span:12}},[a("span",[t._v(t._s(t.tableInfo.predict_fee)+":")]),a("a-input",{staticStyle:{width:"70%"},attrs:{readonly:""},model:{value:t.curRow.predict_fee,callback:function(e){t.$set(t.curRow,"predict_fee",e)},expression:"curRow.predict_fee"}})],1),t.isNull(t.tableInfo.drive_type)?t._e():a("a-col",{staticStyle:{"margin-top":"10px","margin-bottom":"10px"},attrs:{span:12}},[a("span",[t._v(t._s(t.tableInfo.drive_type)+":")]),a("a-input",{staticStyle:{width:"70%"},attrs:{readonly:""},model:{value:t.curRow.drive_type,callback:function(e){t.$set(t.curRow,"drive_type",e)},expression:"curRow.drive_type"}})],1),t.isNull(t.tableInfo.predict_mileage)?t._e():a("a-col",{staticStyle:{"margin-top":"10px","margin-bottom":"10px"},attrs:{span:12}},[a("span",[t._v(t._s(t.tableInfo.predict_mileage)+":")]),a("a-input",{staticStyle:{width:"70%"},attrs:{readonly:""},model:{value:t.curRow.predict_mileage,callback:function(e){t.$set(t.curRow,"predict_mileage",e)},expression:"curRow.predict_mileage"}})],1),t.isNull(t.tableInfo.travel_transport)?t._e():a("a-col",{staticStyle:{"margin-top":"10px","margin-bottom":"10px"},attrs:{span:12}},[a("span",[t._v(t._s(t.tableInfo.travel_transport)+":")]),a("a-input",{staticStyle:{width:"70%"},attrs:{readonly:""},model:{value:t.curRow.travel_transport,callback:function(e){t.$set(t.curRow,"travel_transport",e)},expression:"curRow.travel_transport"}})],1),t.isNull(t.curRow.reserve_money)?t._e():a("a-col",{staticStyle:{"margin-top":"10px","margin-bottom":"10px"},attrs:{span:12}},[a("span",[t._v(t._s(t.tableInfo.reserve_money)+":")]),a("a-input",{staticStyle:{width:"70%"},attrs:{readonly:""},model:{value:t.curRow.reserve_money,callback:function(e){t.$set(t.curRow,"reserve_money",e)},expression:"curRow.reserve_money"}})],1),t.isNull(t.curRow.reserve_chinese)?t._e():a("a-col",{staticStyle:{"margin-top":"10px","margin-bottom":"10px"},attrs:{span:12}},[a("span",[t._v(t._s(t.tableInfo.pay_back_date)+":")]),a("a-input",{staticStyle:{width:"70%"},attrs:{readonly:""},model:{value:t.curRow.reserve_chinese,callback:function(e){t.$set(t.curRow,"reserve_chinese",e)},expression:"curRow.reserve_chinese"}})],1),t.isNull(t.curRow.pay_back_date)||"--"==t.curRow.pay_back_date?t._e():a("a-col",{staticStyle:{"margin-top":"10px","margin-bottom":"10px"},attrs:{span:12}},[a("span",[t._v(t._s(t.tableInfo.pay_back_date)+":")]),a("a-input",{staticStyle:{width:"70%"},attrs:{readonly:""},model:{value:t.curRow.pay_back_date,callback:function(e){t.$set(t.curRow,"pay_back_date",e)},expression:"curRow.pay_back_date"}})],1),t.isNull(t.curRow.money)?t._e():a("a-col",{staticStyle:{"margin-top":"10px","margin-bottom":"10px"},attrs:{span:12}},[a("span",[t._v(t._s(t.tableInfo.money)+":")]),a("a-input",{staticStyle:{width:"70%"},attrs:{readonly:""},model:{value:t.curRow.money,callback:function(e){t.$set(t.curRow,"money",e)},expression:"curRow.money"}})],1),t.isNull(t.curRow.pay_type)?t._e():a("a-col",{staticStyle:{"margin-top":"10px","margin-bottom":"10px"},attrs:{span:12}},[a("span",[t._v(t._s(t.tableInfo.pay_type)+":")]),a("a-input",{staticStyle:{width:"70%"},attrs:{readonly:""},model:{value:t.curRow.pay_type,callback:function(e){t.$set(t.curRow,"pay_type",e)},expression:"curRow.pay_type"}})],1),t.isNull(t.curRow.pay_date)||"--"==t.curRow.pay_date?t._e():a("a-col",{staticStyle:{"margin-top":"10px","margin-bottom":"10px"},attrs:{span:12}},[a("span",[t._v(t._s(t.tableInfo.pay_date)+":")]),a("a-input",{staticStyle:{width:"70%"},attrs:{readonly:""},model:{value:t.curRow.pay_date,callback:function(e){t.$set(t.curRow,"pay_date",e)},expression:"curRow.pay_date"}})],1),t.isNull(t.curRow.join_users)||"--"==t.curRow.join_users?t._e():a("a-col",{staticStyle:{"margin-top":"10px","margin-bottom":"10px"},attrs:{span:12}},[a("span",[t._v(t._s(t.tableInfo.join_users)+":")]),a("a-input",{staticStyle:{width:"70%"},attrs:{readonly:""},model:{value:t.curRow.join_users,callback:function(e){t.$set(t.curRow,"join_users",e)},expression:"curRow.join_users"}})],1),t.isNull(t.curRow.mireanna_type)?t._e():a("a-col",{staticStyle:{"margin-top":"20px","margin-bottom":"10px"},attrs:{span:24}},[a("span",{staticStyle:{float:"left",display:"block"}},[t._v(t._s(t.tableInfo.mireanna_type)+":")]),a("div",{staticStyle:{float:"left",width:"88%",display:"block","border-bottom":"1px solid #cecece","padding-left":"20px"},domProps:{innerHTML:t._s(t.curRow.mireanna_type)}})]),t.isNull(t.curRow.receive_name)?t._e():a("a-col",{staticStyle:{"margin-top":"10px","margin-bottom":"10px"},attrs:{span:24}},[a("span",[t._v(t._s(t.tableInfo.receive_name)+":")]),a("a-input",{staticStyle:{"text-align":"left","padding-left":"2%",width:"82%"},attrs:{readonly:""},model:{value:t.curRow.receive_name,callback:function(e){t.$set(t.curRow,"receive_name",e)},expression:"curRow.receive_name"}})],1),t.isNull(t.curRow.bank_name)?t._e():a("a-col",{staticStyle:{"margin-top":"10px","margin-bottom":"10px"},attrs:{span:12}},[a("span",[t._v(t._s(t.tableInfo.bank_name)+":")]),a("a-input",{staticStyle:{width:"70%"},attrs:{readonly:""},model:{value:t.curRow.bank_name,callback:function(e){t.$set(t.curRow,"bank_name",e)},expression:"curRow.bank_name"}})],1),t.isNull(t.curRow.bank_card)?t._e():a("a-col",{staticStyle:{"margin-top":"10px","margin-bottom":"10px"},attrs:{span:12}},[a("span",[t._v(t._s(t.tableInfo.bank_card)+":")]),a("a-input",{staticStyle:{width:"70%"},attrs:{readonly:""},model:{value:t.curRow.bank_card,callback:function(e){t.$set(t.curRow,"bank_card",e)},expression:"curRow.bank_card"}})],1),t.isNull(t.curRow.traffic_standards)?t._e():a("a-col",{staticStyle:{"margin-top":"20px","margin-bottom":"10px"},attrs:{span:24}},[a("span",{staticStyle:{float:"left",display:"block"}},[t._v(t._s(t.tableInfo.traffic_standards)+":")]),a("div",{staticStyle:{float:"left",width:"88%",display:"block","border-bottom":"1px solid #cecece","padding-left":"20px"},domProps:{innerHTML:t._s(t.curRow.traffic_standards)}})]),t.isNull(t.curRow.traffic_numbers)?t._e():a("a-col",{staticStyle:{"margin-top":"20px","margin-bottom":"10px"},attrs:{span:24}},[a("span",{staticStyle:{float:"left",display:"block"}},[t._v(t._s(t.tableInfo.traffic_numbers)+":")]),a("div",{staticStyle:{float:"left",width:"88%",display:"block","border-bottom":"1px solid #cecece","padding-left":"20px"},domProps:{innerHTML:t._s(t.curRow.traffic_numbers)}})]),t.isNull(t.tableInfo.travel_remarks)?t._e():a("a-col",{staticStyle:{"margin-top":"20px","margin-bottom":"10px"},attrs:{span:24}},[a("span",{staticStyle:{float:"left",display:"block"}},[t._v(t._s(t.tableInfo.travel_remarks)+":")]),a("div",{staticStyle:{float:"left",width:"88%",display:"block","border-bottom":"1px solid #cecece","padding-left":"20px"},domProps:{innerHTML:t._s(t.curRow.travel_remarks)}})]),t.isNull(t.curRow.location)?t._e():a("a-col",{staticStyle:{"margin-top":"30px"},attrs:{span:24}},[a("span",{staticStyle:{float:"left",display:"block"}},[t._v(t._s(t.curRow.formTypeName)+"地址:")]),a("div",{staticStyle:{float:"left",width:"88%",display:"block","border-bottom":"1px solid #cecece","padding-left":"20px"},domProps:{innerHTML:t._s(t.curRow.location)}})]),t.isNull(t.curRow.announce_content)?t._e():a("a-col",{staticStyle:{"margin-bottom":"10px","margin-top":"10px"},attrs:{span:24}},[a("span",{staticStyle:{float:"left",display:"block"}},[t._v(t._s(t.tableInfo.announce_content)+":")]),a("div",{staticStyle:{float:"left",width:"88%",display:"block","border-bottom":"1px solid #cecece","padding-left":"20px"},domProps:{innerHTML:t._s(t.curRow.announce_content)}})]),t.isNull(t.curRow.plan_content)?t._e():a("a-col",{staticStyle:{"margin-bottom":"10px","margin-top":"10px"},attrs:{span:24}},[a("span",{staticStyle:{float:"left",display:"block"}},[t._v(t._s(t.tableInfo.plan_content)+":")]),a("div",{staticStyle:{float:"left",width:"88%",display:"block","border-bottom":"1px solid #cecece","padding-left":"20px"},domProps:{innerHTML:t._s(t.curRow.plan_content)}})]),t.isNull(t.curRow.reserve_content)?t._e():a("a-col",{staticStyle:{"margin-bottom":"10px","margin-top":"20px"},attrs:{span:24}},[a("span",{staticStyle:{float:"left",display:"block"}},[t._v(t._s(t.tableInfo.reserve_content)+":")]),a("div",{staticStyle:{float:"left",width:"88%",display:"block","border-bottom":"1px solid #cecece","padding-left":"20px"},domProps:{innerHTML:t._s(t.curRow.reserve_content)}})]),t.isNull(t.curRow.reim_type)?t._e():a("a-col",{staticStyle:{"margin-top":"10px","margin-bottom":"10px"},attrs:{span:12}},[a("span",[t._v(t._s(t.tableInfo.reim_type)+":")]),a("a-input",{staticStyle:{width:"70%"},attrs:{readonly:""},model:{value:t.curRow.reim_type,callback:function(e){t.$set(t.curRow,"reim_type",e)},expression:"curRow.reim_type"}})],1),t.isNull(t.curRow.reim_total)?t._e():a("a-col",{staticStyle:{"margin-top":"10px","margin-bottom":"10px"},attrs:{span:12}},[a("span",[t._v(t._s(t.tableInfo.reim_total)+":")]),a("a-input",{staticStyle:{width:"70%"},attrs:{readonly:""},model:{value:t.curRow.reim_total,callback:function(e){t.$set(t.curRow,"reim_total",e)},expression:"curRow.reim_total"}})],1),t.isNull(t.curRow.reim_remark)?t._e():a("a-col",{staticStyle:{"margin-top":"10px","margin-bottom":"10px"},attrs:{span:24}},[a("span",{staticStyle:{float:"left",display:"block"}},[t._v(t._s(t.tableInfo.reim_remark)+":")]),a("div",{staticStyle:{float:"left",width:"88%",display:"block","border-bottom":"1px solid #cecece","padding-left":"20px"},domProps:{innerHTML:t._s(t.curRow.reim_remark)}})]),t.isNull(t.curRow.task_content)?t._e():a("a-col",{staticStyle:{"margin-top":"20px","margin-bottom":"10px"},attrs:{span:24}},[a("span",{staticStyle:{float:"left",display:"block"}},[t._v(t._s(t.tableInfo.task_content)+":")]),a("div",{staticStyle:{float:"left",width:"88%",display:"block","border-bottom":"1px solid #cecece","padding-left":"20px"},domProps:{innerHTML:t._s(t.curRow.task_content)}})]),t.isNull(t.curRow.remark)?t._e():a("a-col",{staticStyle:{"margin-top":"20px","margin-bottom":"10px"},attrs:{span:24}},[a("span",{staticStyle:{float:"left",display:"block"}},[t._v(t._s(t.tableInfo.remark)+":")]),a("div",{staticStyle:{float:"left",width:"88%",display:"block","border-bottom":"1px solid #cecece","padding-left":"20px"},domProps:{innerHTML:t._s(t.curRow.remark)}})]),1==t.curRow.main_table_status?a("a-col",{staticStyle:{"margin-top":"30px"},attrs:{span:24}},[[a("a-table",{attrs:{columns:t.columns,dataSource:t.data,loading:t.loading,pagination:!1}})]],2):t._e(),null!=this.curRow&&1!=this.curRow.fileStatus&&"print"!=this.pageType&&this.curRow.fileType.includes("office")?a("a-col",{staticStyle:{"margin-top":"10px"},attrs:{span:24}},[a("div",{staticStyle:{width:"98%"}},[a("a-divider",{staticStyle:{width:"98%"},attrs:{dashed:""}})],1)]):t._e(),1!=this.curRow.fileStatus&&"print"!=this.pageType&&"false"==t.printflag?a("a-col",{staticStyle:{"margin-top":"2px"},attrs:{span:24}},[[this.curRow.fileType.includes("office")?a("div",{class:[1!=this.curRow.fileStatus?"fileshow":"filenone"],staticStyle:{width:"100%",display:"block"}},[a("div",{staticClass:"no-print",staticStyle:{"text-align":"right"}},[a("iframe",{directives:[{name:"print",rawName:"v-print",value:"#printContent",expression:"'#printContent'"}],staticClass:"no-print fileview-iframe",staticStyle:{display:"block",width:"95%",align:"left",height:"720px","overflow-y":"auto","overflow-x":"hidden",border:"1px solid #cecece","border-bottom":"1px solid #cecece"},attrs:{name:"fileviewFrame",id:"fileviewFrame",src:this.curRow.fileURL}})])]):t._e()]],2):t._e(),1!=this.curRow.fileStatus&&"print"!=this.pageType?a("a-col",{staticStyle:{"margin-top":"15px"},attrs:{span:24}},[[a("div",{staticClass:"office-container",staticStyle:{"margin-top":"0px"}},t._l(t.curRow.officeList,(function(e,n){return a("div",{key:n,staticClass:"ant-upload-list-item-info"},[a("span",{staticStyle:{"hover{background":"#efeffe"}},[a("a",{staticClass:"ant-upload-list-item-name",staticStyle:{float:"left","margin-left":"-20px","margin-top":"5px","border-bottom":"1px solid #f0f0f0","hover{background":"#efeffe"},attrs:{rel:"noopener noreferrer"}},[a("a-icon",{staticStyle:{float:"left","margin-top":"4px","margin-right":"5px"},attrs:{type:"file"}}),a("span",{staticStyle:{float:"left",width:"80%","margin-top":"4px","margin-right":"5px","hover{background":"#efeffe",cursor:"point"},attrs:{type:"file",target:"_blank",title:e.title},on:{click:function(a){return t.handlePreview(e)}}},[t._v(t._s(e.name))]),a("a-icon",{staticStyle:{float:"right","margin-top":"4px",width:"10%","margin-right":"5px","hover{background":"#efeffe",cursor:"point"},attrs:{type:"download"},on:{click:function(a){return t.handleDownLoad(e)}}})],1)])])})),0)]],2):t._e(),1!=this.curRow.fileStatus&&"print"!=this.pageType&&this.curRow.fileType.includes("image")?a("a-col",{staticStyle:{"margin-top":"10px"},attrs:{span:24}},[a("div",{staticStyle:{width:"98%"}},[a("a-divider",{staticStyle:{width:"98%"},attrs:{dashed:""}},[t._v("·")])],1)]):t._e(),1!=this.curRow.fileStatus&&"print"!=this.pageType?a("a-col",{staticStyle:{"margin-top":"2px"},attrs:{span:24}},[[this.curRow.fileType.includes("image")?a("div",{class:[1!=this.curRow.fileStatus?"fileshow":"filenone"],staticStyle:{"margin-botton":"0px"}},[a("div",{staticStyle:{"margin-bottom":"10px"}},[t._v("图片附件")]),a("vue-preview",{attrs:{slides:t.slides},on:{close:t.handleClose,click:t.handleImgClick}})],1):t._e()]],2):t._e(),1!=t.curRow.bpm_status||t.workflows.length>0?a("a-col",{staticStyle:{"margin-top":"10px"},attrs:{span:24}},[a("div",{staticStyle:{width:"98%"}},[a("a-divider",{staticStyle:{width:"98%"},attrs:{dashed:""}},[t._v("·")])],1)]):t._e(),(1!=t.curRow.bpm_status||t.workflows.length>0)&&"print"!=t.pageType?a("a-col",{staticStyle:{"margin-top":"10px","margin-bottom":"20px"},attrs:{span:24}},[a("div",{staticClass:"no-print",staticStyle:{"margin-bottom":"20px"}},[t._v("流程进度")]),[a("a-steps",{staticClass:"no-print",staticStyle:{width:"80%","margin-bottom":"10px"}},[a("a-step",{attrs:{status:t.wflowstatus.start.status,title:"发起",description:t.startusers}},[a("a-icon",{attrs:{slot:"icon",type:"user"},slot:"icon"})],1),a("a-step",{attrs:{status:t.wflowstatus.audit.status,title:"审核",description:t.auditusers}},[a("a-icon",{attrs:{slot:"icon",type:"solution"},slot:"icon"})],1),a("a-step",{attrs:{status:t.wflowstatus.approve.status,title:"审批",description:t.approveusers}},[a("a-icon",{attrs:{slot:"icon",type:"audit"},slot:"icon"})],1),a("a-step",{attrs:{status:t.wflowstatus.message.status,title:"知会",description:t.messageusers}},[a("a-icon",{attrs:{slot:"icon",type:"mail"},slot:"icon"})],1)],1),a("br")],a("div",{staticClass:"no-print",staticStyle:{width:"98%","margin-top":"10px","margin-bottom":"10px"}},[a("a-divider",{staticStyle:{width:"98%"},attrs:{dashed:""}},[t._v("·")])],1)],2):t._e(),1!=t.curRow.bpm_status||t.workflows.length>0?a("a-col",{staticStyle:{"margin-top":"10px"},attrs:{span:24}},[a("div",{staticStyle:{"margin-bottom":"20px"}},[t._v("审批流程")]),[a("a-timeline",t._l(t.workflows,(function(e,n){return a("div",{key:n},[a("a-timeline-item",{attrs:{color:e.color}},["wait"==e.status?a("a-icon",{staticStyle:{"font-size":"16px"},attrs:{slot:"dot",type:"clock-circle-o",theme:"twoTone",twoToneColor:"#eb2f2f",color:e.color},slot:"dot"}):t._e(),"start"==e.status?a("a-icon",{staticStyle:{"font-size":"16px"},attrs:{slot:"dot",type:"tag",theme:"twoTone",twoToneColor:"#5599FF",color:e.color},slot:"dot"}):t._e(),"cancel"==e.status?a("a-icon",{staticStyle:{"font-size":"16px"},attrs:{slot:"dot",type:"close-circle",theme:"twoTone",twoToneColor:"#cecece",color:e.color},slot:"dot"}):t._e(),"agree"==e.status?a("a-icon",{staticStyle:{"font-size":"16px"},attrs:{slot:"dot",type:"check-circle",theme:"twoTone",twoToneColor:"#52ce1a",color:e.color},slot:"dot"}):t._e(),"message"==e.status?a("a-icon",{staticStyle:{"font-size":"16px"},attrs:{slot:"dot",type:"mail",theme:"twoTone",twoToneColor:e.color,color:e.color},slot:"dot"}):t._e(),"over"==e.status?a("a-icon",{staticStyle:{"font-size":"16px"},attrs:{slot:"dot",type:"flag",theme:"twoTone",twoToneColor:e.color,color:e.color},slot:"dot"}):t._e(),"sound"==e.status?a("a-icon",{staticStyle:{"font-size":"16px"},attrs:{slot:"dot",type:"sound",theme:"twoTone",twoToneColor:"orange",color:e.color},slot:"dot"}):t._e(),t._v("\n                  "+t._s(e.content)+"\n                ")],1)],1)})),0)]],2):t._e(),"undefined"!=typeof t.tableInfo.traffic_numbers&&null!=t.tableInfo.traffic_numbers?a("a-col",{staticStyle:{"margin-top":"20px","margin-bottom":"10px"},attrs:{span:24}},[a("span",{staticStyle:{float:"left",display:"block"}},[t._v("注:")]),a("div",{staticStyle:{float:"left",width:"88%",display:"block","border-bottom":"0px solid #cecece","padding-left":"20px"}},[a("p",[t._v("1. 此表批准后原件由综合部存档，复印件交财务部。")]),a("p",[t._v("\n              2.\n              此表批准日期在15号（含15号）以前则从当月开始享有车辆补贴，在15号以后则从下月开始享有。\n            ")]),a("p",[t._v("\n              3.\n              驾驶证、行驶证和身份证的复印件是该表的必备附件，驾驶证必须是申请人本人证件，行驶证与驾驶证户名不一致，需另附行驶证所有人的身份证复印件及关系证明、书面说明。\n            ")])])]):t._e(),"workflow"==t.pageType&&2==t.curRow.bpm_status?a("a-col",{staticStyle:{"margin-top":"30px"},attrs:{span:24}},[[a("a-form",{attrs:{form:t.form}},[a("a-form-item",{staticStyle:{width:"500px"},attrs:{label:"加签用户"}},[a("j-select-multi-user",{model:{value:t.wflowAddUsers,callback:function(e){t.wflowAddUsers=e},expression:"wflowAddUsers"}})],1),null!=t.wflowAddData&&t.wflowAddData.length>0?a("div",{staticStyle:{width:"500px"}},[a("a-table",{attrs:{columns:t.wflowcolumns,dataSource:t.wflowAddData,pagination:!1}})],1):t._e()],1),a("a-form",{attrs:{form:t.form}},[a("a-form-item",{staticStyle:{width:"500px","margin-top":"20px"},attrs:{label:"会签用户"}},[a("j-select-multi-user",{model:{value:t.wflowNotifyUsers,callback:function(e){t.wflowNotifyUsers=e},expression:"wflowNotifyUsers"}})],1),null!=t.wflowNotifyData&&t.wflowNotifyData.length>0?a("div",{staticStyle:{width:"500px"}},[a("a-table",{attrs:{columns:t.wflowcolumns,dataSource:t.wflowNotifyData,pagination:!1}})],1):t._e()],1)],a("div",{staticStyle:{float:"left",width:"88%",display:"block","border-bottom":"0px solid #cecece","padding-left":"0px","margin-top":"30px","margin-bottom":"30px"}},[a("p",[t._v("注意：不能同时选择会签用户和加签用户！")]),a("p",{staticStyle:{"margin-top":"10px"}},[t._v("\n              1.\n              选择加签用户后，流程会在此审核节点走完后，立即转入加签用户节点进行处理，加签节点处理完毕后，转入原流程。\n            ")]),a("p",{staticStyle:{"margin-top":"10px"}},[t._v("\n              2.\n              选择会签用户后，流程会在此审核节点走完前，立即转入会签用户节点进行处理，加签节点处理完毕后，再次转入当前审核节点，继续原流程。\n            ")])]),a("div",{staticStyle:{width:"98%","margin-top":"50px","margin-bottom":"30px"}},[a("a-divider",{staticStyle:{width:"98%"},attrs:{dashed:""}},[t._v("·")])],1)],2):t._e(),"workflow"==t.pageType&&1e3==t.curRow.bpm_status?a("a-col",{staticStyle:{"margin-top":"30px"},attrs:{span:24}},[[a("a-form",{attrs:{form:t.form}},[a("a-form-item",{staticStyle:{width:"500px","margin-top":"20px"},attrs:{label:"会签用户"}},[a("j-select-multi-user",{model:{value:t.wflowNotifyUsers,callback:function(e){t.wflowNotifyUsers=e},expression:"wflowNotifyUsers"}})],1),null!=t.wflowNotifyData&&t.wflowNotifyData.length>0?a("div",{staticStyle:{width:"500px"}},[a("a-table",{attrs:{columns:t.wflowcolumns,dataSource:t.wflowNotifyData,pagination:!1}})],1):t._e()],1)],a("div",{staticStyle:{float:"left",width:"88%",display:"block","border-bottom":"0px solid #cecece","padding-left":"0px","margin-top":"30px","margin-bottom":"30px"}},[a("p",[t._v("注意：选择会签用户后，流程会在此审核节点走完前，立即转入会签用户节点进行处理，加签节点处理完毕后，再次转入当前审核节点，继续原流程。")])]),a("div",{staticStyle:{width:"98%","margin-top":"50px","margin-bottom":"30px"}},[a("a-divider",{staticStyle:{width:"98%"},attrs:{dashed:""}},[t._v("·")])],1)],2):t._e(),"workflowing"==t.pageType&&1==t.curRow.bpm_status?a("a-col",{staticStyle:{"margin-top":"30px"},attrs:{span:24}},[[a("a-form",{attrs:{form:t.form}},[a("a-form-item",{staticStyle:{width:"500px"},attrs:{label:"审核用户"}},[a("j-select-multi-user",{model:{value:t.wflowUsers,callback:function(e){t.wflowUsers=e},expression:"wflowUsers"}})],1),null!=t.auditData&&t.auditData.length>0?a("div",{staticStyle:{width:"500px"}},[a("a-table",{attrs:{columns:t.wflowcolumns,dataSource:t.auditData,pagination:!1}})],1):t._e(),a("a-form-item",{staticStyle:{width:"500px","margin-top":"10px"},attrs:{label:"审批用户"}},[a("j-select-multi-user",{model:{value:t.approveUser,callback:function(e){t.approveUser=e},expression:"approveUser"}})],1),null!=t.approveData&&t.approveData.length>0?a("div",{staticStyle:{width:"500px"}},[a("a-table",{attrs:{columns:t.wflowcolumns,dataSource:t.approveData,pagination:!1}})],1):t._e(),a("a-form-item",{staticStyle:{width:"500px","margin-top":"10px"},attrs:{label:"知会用户"}},[a("j-select-multi-user",{model:{value:t.notifyUsers,callback:function(e){t.notifyUsers=e},expression:"notifyUsers"}})],1),null!=t.notifyData&&t.notifyData.length>0?a("div",{staticStyle:{width:"500px"}},[a("a-table",{attrs:{columns:t.wflowcolumns,dataSource:t.notifyData,pagination:!1}})],1):t._e()],1)],[a("div",{staticStyle:{width:"88%","margin-top":"15px"}},["workflowing"==t.pageType||"notifying"==t.pageType?a("a-button",{attrs:{ghost:"",type:"primary"},on:{click:t.handleSubmitWF}},[t._v("提交")]):t._e()],1)]],2):t._e(),"notifying"==t.pageType?a("a-col",{staticStyle:{"margin-top":"30px"},attrs:{span:24}},[[a("a-form",{attrs:{form:t.form}},[a("a-form-item",{staticStyle:{width:"500px"},attrs:{label:"知会用户"}},[a("j-select-multi-user",{model:{value:t.notifyUsers,callback:function(e){t.notifyUsers=e},expression:"notifyUsers"}})],1),null!=t.notifyData&&t.notifyData.length>0?a("div",{staticStyle:{width:"500px"}},[a("a-table",{attrs:{columns:t.wflowcolumns,dataSource:t.notifyData,pagination:!1}})],1):t._e()],1)],[a("div",{staticStyle:{width:"88%","margin-top":"10px"}},["workflowing"==t.pageType||"notifying"==t.pageType?a("a-button",{attrs:{ghost:"",type:"primary"},on:{click:t.handleSubmitWF}},[t._v("提交")]):t._e()],1)]],2):t._e(),"workflow"==t.pageType?a("a-col",{staticStyle:{"margin-top":"30px"},attrs:{span:24}},[[a("div",{staticStyle:{width:"88%"}},[a("a-textarea",{staticStyle:{align:"left","text-align":"left"},attrs:{placeholder:"请输入审批意见",autosize:{minRows:2,maxRows:10}},model:{value:t.curRow.idea_content,callback:function(e){t.$set(t.curRow,"idea_content",e)},expression:"curRow.idea_content"}})],1),a("div",{staticStyle:{width:"88%","margin-top":"10px"}},[a("a-button",{staticStyle:{"margin-right":"10px","margin-top":"10px","background-color":"#2090fe",border:"1px solid #fefefe"},attrs:{type:"primary"},on:{click:t.handleApproveWF}},[t._v("同意")]),a("a-button",{staticStyle:{"margin-right":"10px","margin-top":"10px","background-color":"#fe5050",border:"1px solid #fefefe"},attrs:{type:"primary"},on:{click:t.handleRejectWF}},[t._v("驳回")])],1)]],2):t._e(),"notify"==t.pageType?a("a-col",{staticStyle:{"margin-top":"30px"},attrs:{span:24}},[[a("div",{staticStyle:{width:"88%"}},[a("a-textarea",{staticStyle:{align:"left","text-align":"left"},attrs:{placeholder:"请输入知会意见",autosize:{minRows:2,maxRows:10}},model:{value:t.curRow.idea_content,callback:function(e){t.$set(t.curRow,"idea_content",e)},expression:"curRow.idea_content"}})],1),a("div",{staticStyle:{width:"88%","margin-top":"10px"}},[a("a-button",{staticStyle:{"margin-right":"10px","margin-top":"10px","background-color":"#2090fe",border:"1px solid #fefefe"},attrs:{type:"primary"},on:{click:t.handleConfirmWF}},[t._v("确认")])],1)]],2):t._e(),"false"==t.printflag?a("a-col",{staticStyle:{"margin-top":"30px"},attrs:{span:24}},[a("div",{staticStyle:{width:"98%","margin-top":"50px","margin-bottom":"30px"}},[a("a-divider",{staticStyle:{width:"98%"},attrs:{dashed:""}},[t._v("·")])],1),t._l(t.replaylist,(function(e,n){return a("div",{key:n},[a("a-comment",[a("template",{slot:"actions"},[a("span",{key:"comment-basic-like"},[a("a-tooltip",{attrs:{title:"Like"}},[a("a-icon",{attrs:{type:"like",theme:"liked"===t.action?"filled":"outlined"},on:{click:function(a){return t.handleLikeComment(e.id)}}})],1),a("span",{staticStyle:{"padding-left":"'8px'",cursor:"'auto'"}},[t._v("\n                      "+t._s(e.likes)+"\n                    ")])],1),a("span",{key:"comment-basic-dislike"},[a("a-tooltip",{attrs:{title:"Dislike"}},[a("a-icon",{attrs:{type:"dislike",theme:"disliked"===t.action?"filled":"outlined"},on:{click:function(a){return t.handleDislikeComment(e.id)}}})],1),a("span",{staticStyle:{"padding-left":"'8px'",cursor:"'auto'"}},[t._v("\n                      "+t._s(e.dislikes)+"\n                    ")])],1),a("span",{key:"comment-basic-reply-to",on:{click:function(a){return t.handleReplayComments(e.id,e.create_by)}}},[t._v("回复")]),t.userInfo.username==e.create_by?a("span",{key:"comment-basic-reply-to",on:{click:function(a){return t.handleDeleteComments(e.id,e.create_by)}}},[t._v("删除")]):t._e()]),a("a",{attrs:{slot:"author"},slot:"author"},[t._v(t._s(e.create_by))]),a("a-avatar",{attrs:{slot:"avatar",src:e.avatar,alt:e.create_by},slot:"avatar"}),a("p",{attrs:{slot:"content"},slot:"content"},[t._v(t._s(e.content))]),t._l(e.replay,(function(n,r){return a("div",{key:r},[a("a-comment",[a("template",{slot:"actions"},[a("span",{key:"comment-basic-like"},[a("a-tooltip",{attrs:{title:"Like"}},[a("a-icon",{attrs:{type:"like",theme:"liked"===t.action?"filled":"outlined"},on:{click:function(a){return t.handleLikeSubComment(e.id,n.id)}}})],1),a("span",{staticStyle:{"padding-left":"'8px'",cursor:"'auto'"}},[t._v("\n                          "+t._s(n.likes)+"\n                        ")])],1),a("span",{key:"comment-basic-dislike"},[a("a-tooltip",{attrs:{title:"Dislike"}},[a("a-icon",{attrs:{type:"dislike",theme:"disliked"===t.action?"filled":"outlined"},on:{click:function(a){return t.handleDislikeSubComment(e.id,n.id)}}})],1),a("span",{staticStyle:{"padding-left":"'8px'",cursor:"'auto'"}},[t._v("\n                          "+t._s(n.dislikes)+"\n                        ")])],1),t.userInfo.username==n.create_by?a("span",{key:"comment-basic-reply-to",on:{click:function(a){return t.handleDeleteSubComment(e.id,n.id,n.create_by)}}},[t._v("删除")]):t._e()]),a("a",{attrs:{slot:"author"},slot:"author"},[t._v(t._s(n.create_by))]),a("a-avatar",{attrs:{slot:"avatar",src:n.avatar,alt:n.create_by},slot:"avatar"}),a("p",{attrs:{slot:"content"},slot:"content"},[t._v(t._s(n.content))]),a("a-tooltip",{attrs:{slot:"datetime",title:n.create_time},slot:"datetime"},[a("span",[t._v(t._s(n.create_time))])])],2)],1)})),a("a-tooltip",{attrs:{slot:"datetime",title:e.create_time},slot:"datetime"},[a("span",[t._v(t._s(e.create_time))])])],2)],1)})),a("div",{staticStyle:{width:"98%","margin-top":"50px","margin-bottom":"30px"}},[a("a-divider",{staticStyle:{width:"98%"},attrs:{dashed:""}},[t._v("·")])],1),a("div",{staticClass:"no-print"},["yes"==t.commentFlag?a("a-col",{attrs:{span:24}},[a("div",{staticClass:"no-print",staticStyle:{float:"left",width:"50px"}},[a("a-avatar",{staticStyle:{float:"left","text-align":"left"},attrs:{slot:"avatar",src:t.avatar,alt:t.userInfo.realname},slot:"avatar"})],1),a("div",{staticClass:"no-print",staticStyle:{float:"left",width:"50%",height:"50px"}},[a("a-textarea",{staticStyle:{float:"left","text-align":"left"},attrs:{span:22,placeholder:"写下你的评论...",allowClear:"",autoSize:{minRows:4,maxRows:10}},model:{value:t.replayvalue,callback:function(e){t.replayvalue=e},expression:"replayvalue"}})],1),a("div",{staticClass:"no-print",staticStyle:{width:"50%","margin-left":"50px","margin-top":"10px"}},[a("div",{staticStyle:{float:"right","margin-top":"10px"}},[a("a-button",{staticStyle:{"margin-left":"10px","font-size":"12px"},attrs:{type:"primary",size:"small"},on:{click:function(e){return t.handleWriteComment()}}},[t._v("发布")]),a("a-button",{staticStyle:{"margin-left":"10px",background:"pink",border:"1px solid pink","font-size":"12px"},attrs:{color:"gray",type:"primary",size:"small"},on:{click:function(e){return t.handleCancelComment()}}},[t._v("取消")])],1)])]):t._e()],1)],2):t._e(),a("a-modal",{attrs:{title:"温馨提示",visible:t.tipVisible,confirmLoading:t.tipConfirmLoading},on:{ok:t.tipHandleOk,cancel:t.tipHandleCancel}},[a("p",[t._v(t._s(t.tipContent))])]),a("el-dialog",{attrs:{title:"二维码分享",visible:t.qrcodeVisible,width:"30%"},on:{"update:visible":function(e){t.qrcodeVisible=e}}},[a("div",{staticStyle:{"text-align":"center"}},[a("qrcode",{staticStyle:{"text-align":"center"},attrs:{value:t.qrcodeUrl,options:{width:200}}})],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.qrcodeVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.qrcodeVisible=!1}}},[t._v("确 定")])],1)]),a("el-dialog",{attrs:{title:"短链接分享",visible:t.shortUrlVisible,width:"30%"},on:{"update:visible":function(e){t.shortUrlVisible=e}}},[a("div",{staticStyle:{"text-align":"center"}},[a("span",[t._v(t._s(t.shortUrl))])]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.shortUrlVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.shortUrlVisible=!1}}},[t._v("确 定")])],1)])],1),[a("div",[a("a-back-top")],1)]],2)],1)])},r=[],s=a("75fc"),o=(a("ac4d"),a("8a81"),a("aef6"),a("a481"),a("6762"),a("2fdb"),a("f559"),a("6b54"),a("ac6a"),a("456d"),a("7514"),a("28a5"),a("96cf"),a("3b8d")),i=(a("7f7f"),a("0fea")),l=a("f36f"),c=a("5d2d"),u=a("ca00"),p=a("0f9d");try{Vue.use(Print)}catch(b){console.log(b)}try{Vue.component(VueQrcode.name,VueQrcode)}catch(b){console.error(b)}var d=[],m='[{"title":"序号","dataIndex":"no","key":"no"},{"title":"中文","dataIndex":"name","key":"name"},{"title":"英文","dataIndex":"nickname","key":"nickname"}]',f={components:{JSelectMultiUser:p["default"]},name:"Printgzsld",props:{reBizCode:{type:String,default:""}},data:function(){return{user:"",avatar:"",columns:[],data:[],loading:!1,refreshInterval:[1e3,2e3,3e3],formName:"流程申请单",curRow:{},depart:{},fileinfo:"",workflows:[],pageType:"view",tableName:"",wflowUsers:"",wflowAddUsers:"",wflowNotifyUsers:"",notifyUsers:"",approveUser:"",tableInfo:"",tipVisible:!1,tipContent:"",slides:d,wflowstatus:{},shortUrl:"",qrcodeUrl:"",qrcodeVisible:!1,shortUrlVisible:!1,form:this.$form.createForm(this),wflowcolumns:JSON.parse(m),auditData:[],approveData:[],notifyData:[],wflowAddData:[],wflowNotifyData:[],wfreeNode:"",startusers:"",auditusers:"",approveusers:"",messageusers:"",replayvalue:"",replaylist:[],replayid:"",printflag:"false",commentFlag:"yes"}},computed:{userInfo:function(){return this.$store.getters.userInfo}},created:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,i["queryUserName"]();case 2:return this.userInfo=c["e"]("cur_user"),t.prev=3,t.next=6,i["queryUserInfoByView"](this.userInfo.username);case 6:this.v_user=t.sent,this.postName=this.v_user[0]["post"],this.departName=this.v_user[0]["name"],this.address=this.v_user[0]["address"],this.bio=this.v_user[0]["bio"],this.avatar=window._CONFIG["imgDomainURL"]+"/"+this.v_user[0]["avatar"],t.next=17;break;case 14:t.prev=14,t.t0=t["catch"](3),console.log("工作台设置员工岗位信息/部门信息异常："+t.t0);case 17:case"end":return t.stop()}}),t,this,[[3,14]])})));function e(){return t.apply(this,arguments)}return e}(),mounted:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,a,n,r,s,o,l=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=u["n"]("id"),t.next=3,i["watchFormLeave"](this);case 3:return a=t.sent,t.next=6,i["colorProcessDetail"](a,this);case 6:return n=t.sent,t.next=9,this.loadWorkflowNode();case 9:return r=t.sent,t.next=12,this.transferFreeWorkflow();case 12:return s=t.sent,t.next=15,i["queryCurFreeWorkflow"](e);case 15:return o=t.sent,this.printflag=u["n"]("printflag")||"false",t.next=19,i["queryCurReplayList"](e);case 19:return this.replaylist=t.sent,t.next=22,i["queryFileNumb"]("鹏程","",this.curRow.create_time,this.curRow,this.tableName);case 22:return this.curRow.no=t.sent,console.log("wfnode : ".concat(r,"  wftransfer : ").concat(s," wfreeNode : ").concat(o," pageType : ").concat(this.pageType," curRow.bpm_status : ").concat(this.curRow.bpm_status," ")),setTimeout((function(){"true"==l.printflag&&window.print()}),1e3),t.abrupt("return",n);case 26:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),watch:{$route:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,a,n,r,s,o,l=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=u["n"]("id"),t.next=3,i["watchFormLeave"](this);case 3:return a=t.sent,t.next=6,i["colorProcessDetail"](a,this);case 6:return n=t.sent,t.next=9,this.loadWorkflowNode();case 9:return r=t.sent,t.next=12,this.transferFreeWorkflow();case 12:return s=t.sent,t.next=15,i["queryCurFreeWorkflow"](e);case 15:return o=t.sent,this.printflag=u["n"]("printflag")||"false",t.next=19,i["queryCurReplayList"](e);case 19:return this.replaylist=t.sent,t.next=22,i["queryFileNumb"]("鹏程","",this.curRow.create_time,this.curRow,this.tableName);case 22:return this.curRow.no=t.sent,console.log("wfnode : ".concat(r,"  wftransfer : ").concat(s," wfreeNode : ").concat(o," pageType : ").concat(this.pageType," curRow.bpm_status : ").concat(this.curRow.bpm_status," ")),setTimeout((function(){"true"==l.printflag&&window.print()}),1e3),t.abrupt("return",n);case 26:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),wflowAddUsers:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){var a,n,r=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,i["queryUserName"]();case 2:a=t.sent,n=e.split(","),this.wflowAddData=[],window.__.each(n,(function(t,e){var n=window.__.find(a,(function(e){return e.username==t}));r.wflowAddData.push({no:e+1,name:n.realname,nickname:n.username})})),console.log("加签用户列表："+e);case 7:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),wflowNotifyUsers:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){var a,n,r=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,i["queryUserName"]();case 2:a=t.sent,n=e.split(","),this.wflowNotifyData=[],window.__.each(n,(function(t,e){var n=window.__.find(a,(function(e){return e.username==t}));r.wflowNotifyData.push({no:e+1,name:n.realname,nickname:n.username})})),console.log("会签用户列表："+e);case 7:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),wflowUsers:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){var a,n,r=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,i["queryUserName"]();case 2:a=t.sent,n=e.split(","),this.auditData=[],window.__.each(n,(function(t,e){var n=window.__.find(a,(function(e){return e.username==t}));r.auditData.push({no:e+1,name:n.realname,nickname:n.username})})),console.log("审核用户列表："+e);case 7:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),approveUser:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){var a,n,r=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,i["queryUserName"]();case 2:a=t.sent,n=e.split(","),this.approveData=[],window.__.each(n,(function(t,e){var n=window.__.find(a,(function(e){return e.username==t}));r.approveData.push({no:e+1,name:n.realname,nickname:n.username})})),console.log("审批用户列表："+e);case 7:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),notifyUsers:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){var a,n,r=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,i["queryUserName"]();case 2:a=t.sent,n=e.split(","),this.notifyData=[],window.__.each(n,(function(t,e){var n=window.__.find(a,(function(e){return e.username==t}));r.notifyData.push({no:e+1,name:n.realname,nickname:n.username})})),console.log("知会用户列表："+e);case 7:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},methods:{loadData:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,a,n,r,s,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=u["n"]("id"),t.next=3,i["watchFormLeave"](this);case 3:return a=t.sent,t.next=6,i["colorProcessDetail"](a,this);case 6:return n=t.sent,t.next=9,this.loadWorkflowNode();case 9:return r=t.sent,t.next=12,this.transferFreeWorkflow();case 12:return s=t.sent,t.next=15,i["queryCurFreeWorkflow"](e);case 15:return o=t.sent,t.next=18,i["queryCurReplayList"](e);case 18:return this.replaylist=t.sent,console.log("wfnode : ".concat(r,"  wftransfer : ").concat(s," wfreeNode : ").concat(o," pageType : ").concat(this.pageType," curRow.bpm_status : ").concat(this.curRow.bpm_status," ")),t.abrupt("return",n);case 21:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),isNull:function(t){return u["k"](t)},transferFreeWorkflow:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,l["e"](this.curRow.id);case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),loadWorkflowNode:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,a,n,r,s,o,l,p,d,m;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,i["queryUserName"]();case 2:return e=t.sent,t.next=5,i["queryWorkflowNode"](this.curRow.id);case 5:if(a=t.sent,t.prev=6,"undefined"!=typeof a&&null!=a&&""!=a&&0!=Object.keys(a).length){t.next=13;break}return n=u["n"]("table_name"),r=c["e"]("cur_user"),t.next=12,i["queryWorkflowNodeByUser"](n,r["username"]);case 12:a=t.sent;case 13:t.next=18;break;case 15:t.prev=15,t.t0=t["catch"](6),console.log(t.t0);case 18:if("undefined"!=typeof a&&null!=a&&""!=a&&0!=Object.keys(a).length){t.next=20;break}return t.abrupt("return",!1);case 20:s=window.__.find(e,(function(t){return t.username==a.start}));try{s=JSON.parse(JSON.stringify(s))}catch(b){console.log(b)}o=window.__.find(e,(function(t){return t.username==a.approve}));try{o=JSON.parse(JSON.stringify(o))}catch(b){console.log(b)}try{o.username==a.operate&&(o.realname="🏁"+o.realname+"(处理中)")}catch(b){console.error(b)}try{l=a.audit.split(","),p={realname:""},l=l.filter((function(t){return"undefined"!=t})),a.audit=l.toString(),window.__.each(l,(function(t){try{var n=window.__.find(e,(function(e){return e.username==t}));t==a.operate?p.realname=p.realname+"->🏁"+n.realname+"(处理中)":p.realname=p.realname+"->"+n.realname}catch(b){console.log(b)}}));try{p.realname.startsWith("->")&&(p.realname=p.realname.substring(2))}catch(b){console.error(b)}}catch(b){console.log(b)}try{d=a.notify.split(","),m={realname:""},d=d.filter((function(t){return"undefined"!=t})),a.notify=d.toString(),window.__.each(d,(function(t){try{var a=window.__.find(e,(function(e){return e.username==t}));m.realname=m.realname+","+a.realname}catch(b){console.log(b)}})),m.realname.trim().startsWith(",")&&(m.realname=m.realname.trim().substring(1))}catch(b){console.log(b)}null!=a.start&&""!=a.start&&(this.startusers="发起: ".concat(s.realname)),null!=a.audit&&""!=a.audit&&(this.auditusers="审核: ".concat(p.realname),this.wflowUsers=a.audit),null!=a.approve&&""!=a.approve&&(this.approveusers="审批: ".concat(o.realname),this.approveUser=a.approve),null!=a.notify&&""!=a.notify&&(this.messageusers="知会：".concat(m.realname),this.notifyUsers=a.notify),setTimeout((function(){var t=$(".ant-steps-item").width()-10;$(".ant-steps-item-description").css("max-width",t+"px"),$(".ant-steps-item-description").css("margin-left","-30px"),$(".ant-steps-item-description").css("font-size","12px")}),255);case 32:case"end":return t.stop()}}),t,this,[[6,15]])})));function e(){return t.apply(this,arguments)}return e}(),getDate:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}(),tipHandleOk:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.tipConfirmLoading=!0,setTimeout((function(){e.loadData(),e.tipVisible=!1,e.tipConfirmLoading=!1}),300);case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),tipHandleCancel:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.loadData(),this.tipVisible=!1;case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),getFormFieldValue:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",this.form.getFieldValue(e));case 1:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),handlePrint:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,a=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e=window.location.href,e.includes("workflow/view?table_name")?window.open(e.replace("workflow","basewflow")+"&printflag=true"):(this.curRow.fileStatus=1,this.printflag="true",setTimeout((function(){a.printflag="false",a.curRow.fileStatus=0}),1e4));case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),handleQRcode:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e=window.location.href.replace("workflow","basewflow"),this.qrcodeUrl=e,this.qrcodeVisible=!0;case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),handleShort:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,a,n,r,s,o,l,p,d,m,f,_,y;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=window.location.href.replace("workflow","basewflow"),a=window.btoa(e),n=c["e"](a),!u["k"](n)&&n.code.includes("undefined")&&(n="",c["c"](a)),""==u["e"](n)){t.next=13;break}if(r=n.code,s=n.expire_,o=new Date,o=u["i"](m,"yyyyMMdd"),!(o<=s)){t.next=13;break}return this.shortUrl="本文分享地址："+window._CONFIG["domain"]+"/s/"+r,this.shortUrlVisible=!0,t.abrupt("return",!0);case 13:l=i["queryRandom"](4),p=(new Date).getTime(),d=0,m=new Date,m.setMonth(m.getMonth()+1),f=u["i"](m,"yyyy-MM-dd hh:mm:ss"),_=u["i"](m,"yyyyMMdd"),y={id:l,code:l,url:e,count:d,expire:f,expire_:_,time:p},c["g"](a,JSON.stringify(y)),i["postTableData"]("bs_short_link",y),this.shortUrl="本文分享地址："+window._CONFIG["domain"]+"/s/"+l,this.shortUrlVisible=!0;case 25:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),handlePreview:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,i["queryUrlValid"](e.fileURL);case 2:a=t.sent,a?window.open(e.src):window.open(window._CONFIG["previewURL"]+e.msrc);case 4:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}(),handleDownLoad:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:console.log(JSON.stringify(e)),window.open(e.msrc);case 2:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}(),handleUserInfo:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){var a=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("undefined"!=typeof e||null!=e){t.next=5;break}return this.$confirm_({title:"提示信息",content:"用户登录信息过期，请重新登录！",onOk:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:c["b"](),a.$router.push("/user/login");case 2:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}()}),t.abrupt("return",!1);case 5:return t.abrupt("return",!0);case 6:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),handleApproveWF:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,a,n,r,p,d=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=u["n"]("id"),a=this,n=a.wflowAddUsers+","+a.wflowNotifyUsers,t.next=5,i["queryCurFreeWorkflow"](e);case 5:if(r=t.sent,""==u["e"](a.wflowAddUsers)||""==u["e"](a.wflowNotifyUsers)){t.next=9;break}return a.$message.warning("无法同时进行加签及会签操作，请单独选择加签用户或会签用户！"),t.abrupt("return",!1);case 9:if(n=n.startsWith(",")?n.substring(1):n,n=n.endsWith(",")?n.substring(0,n.length-1):n,console.log("会签/加签用户 : "+n),p=u["d"](r.audit_node+","+r.approve_node,n),u["k"](p)){t.next=19;break}return t.next=16,i["patchEnameCname"](p);case 16:return p=t.sent,a.$message.warning("加签/会签用户，不能选择审批流程中已经存在的用户(".concat(p,")!")),t.abrupt("return",!1);case 19:this.$confirm_({title:"确认操作",content:"是否确认提交此自由流程?",onOk:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,n,r,o,p,m,f,_,y,w,h,g,x,v,R,k,S,N,I,O,T,D,$,U,C,j,L,q,J,P,F,M,W,V,H;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=c["e"]("cur_user"),t.next=3,d.handleUserInfo(n);case 3:return r=u["i"]((new Date).getTime(),"yyyy-MM-dd hh:mm:ss"),o=o||"同意",p=p||d.curRow.idea_content||"同意",m=a.curRow,f=u["n"]("processLogID"),_=u["n"]("table_name"),y=null,w=[],h=null,g=null,x=null,v=null,R=null,t.prev=16,t.next=19,i["queryProcessLogByID"](_,f);case 19:m=t.sent,t.next=25;break;case 22:t.prev=22,t.t0=t["catch"](16),console.log(t.t0);case 25:if(""!=u["e"](m)){t.next=28;break}return a.$message.warning("未找到下一节点的流程信息，请刷新页面，查看是否已经审批完成！"),t.abrupt("return",!1);case 28:if(h=m["business_data_id"],g=m["process_audit"],u["e"](m["employee"]).includes(n["username"])||u["e"](m["employee"]).includes(n["realname"])){t.next=33;break}return a.$message.warning("您不在此审批流程记录的操作职员列中，无法进行审批操作！"),t.abrupt("return",!1);case 33:return t.prev=33,t.next=36,i["queryProcessLog"](_,h);case 36:w=t.sent,t.next=42;break;case 39:t.prev=39,t.t1=t["catch"](33),console.log(t.t1);case 42:return window.__.each(w,(function(t){var e=t["create_time"];t["approve_user"]=n["username"],t["action"]=o,t["operate_time"]=r,t["action_opinion"]=p,t["create_time"]=u["i"](e,"yyyy-MM-dd hh:mm:ss")})),x=JSON.parse(JSON.stringify(w)),t.next=46,i["queryBusinessInfo"](_);case 46:if(v=t.sent,a.fixedWFlow=v[0],a.rights=v,!(v.length>1&&"000000000"!=m.business_code)){t.next=55;break}return a.tipVisible=!0,a.tipContent="获取到此业务含有多个流程权责，请联系管理员进行配置！",t.abrupt("return",!1);case 55:if(!(v.length<=0&&"000000000"!=m.business_code)){t.next=61;break}return a.tipVisible=!0,a.tipContent="未获取到此业务的流程权责，无法同意审批！",t.abrupt("return",!1);case 61:if(k="",S="",N=g,I=""==u["e"](S)?"":S.split(","),"000000000"==m.business_code){t.next=80;break}t.prev=66,k=","+a.fixedWFlow["audit"]+","+a.fixedWFlow["approve"]+",",S=a.fixedWFlow["notify"],y=a.fixedWFlow["approve"],t.next=78;break;case 72:return t.prev=72,t.t2=t["catch"](66),a.tipVisible=!0,a.tipContent="固化流程设置节点失败，无法进行审批操作！",console.log("固化流程设置节点失败 :"+t.t2),t.abrupt("return",!1);case 78:t.next=106;break;case 80:t.prev=80,N=m["employee"];try{R=JSON.parse(m.business_data)}catch(b){console.log(b)}if(!("audit_node"in R)&&!("approve_node"in R)&&!("notify_node"in R))try{R=JSON.parse(R.business_data)}catch(b){console.log(b)}return t.next=86,i["queryCurFreeWorkflow"](h);case 86:O=t.sent,""!=u["e"](O)&&(R=O),console.log("free node back data : "+O),R.audit_node=",".concat(R.audit_node,","),R.audit_node.indexOf(","+N+",")!=R.audit_node.lastIndexOf(","+N+",")&&(R.audit_node=R.audit_node.replace(","+N+",",",")),""!=u["e"](a.wflowAddUsers)&&(R.audit_node=R.audit_node.replace(",".concat(N,","),",".concat(N,",").concat(a.wflowAddUsers,","))),""!=u["e"](a.wflowNotifyUsers)&&(R.audit_node=R.audit_node.replace(",".concat(N,","),",".concat(N,",").concat(a.wflowNotifyUsers,",").concat(N,","))),R.audit_node.startsWith(",")&&(R.audit_node=R.audit_node.substring(1)),R.audit_node.endsWith(",")&&(R.audit_node=R.audit_node.substring(0,R.audit_node.length-1)),k=","+u["e"](R.audit_node)+","+u["e"](R.approve_node)+",",I=""==u["e"](R.notify_node)?[]:[R.notify_node],y=R.approve_node,t.next=106;break;case 100:return t.prev=100,t.t3=t["catch"](80),a.tipVisible=!0,a.tipContent="自由流程设置节点失败，无法进行审批操作！",console.log("自由流程设置节点失败 :"+t.t3),t.abrupt("return",!1);case 106:if(""==u["e"](a.wflowAddUsers)&&""==u["e"](a.wflowNotifyUsers)&&k.indexOf(","+N+",")!=k.lastIndexOf(","+N+",")&&(k=k.replace(","+N+",",",")),T=k.split(","+N+","),D=T[1],$={},""!=D){t.next=155;break}$={bpm_status:"4"},U=!0,C=!1,j=void 0,t.prev=115,L=I[Symbol.iterator]();case 117:if(U=(q=L.next()).done){t.next=133;break}return J=q.value,t.next=121,i["queryProcessNodeEmployee"](J);case 121:return P=t.sent,t.next=124,i["queryProcessNodeProcName"](J);case 124:return F=t.sent,M={},M="000000000"!=m.business_code?{id:i["queryRandomStr"](32),table_name:_,main_value:m["main_value"],business_data_id:m["business_data_id"],business_code:a.fixedWFlow["id"],process_name:a.fixedWFlow["items"],employee:P[0]["employee"],process_station:F[0]["item_text"],process_audit:J,operate_time:r,create_time:r,proponents:m["proponents"],content:m["content"],business_data:JSON.stringify(m)}:{id:i["queryRandomStr"](32),table_name:_,main_value:m["business_data_id"],business_data_id:m["business_data_id"],business_code:"000000001",process_name:"自由流程知会",employee:J,process_station:"自由流程知会",process_audit:"000000001",proponents:m["proponents"],content:m["content"],operate_time:r,create_time:r,business_data:m.business_data},t.next=129,i["postProcessLogInformed"](M);case 129:e=t.sent;case 130:U=!0,t.next=117;break;case 133:t.next=139;break;case 135:t.prev=135,t.t4=t["catch"](115),C=!0,j=t.t4;case 139:t.prev=139,t.prev=140,U||null==L.return||L.return();case 142:if(t.prev=142,!C){t.next=145;break}throw j;case 145:return t.finish(142);case 146:return t.finish(139);case 147:return W={id:i["queryRandomStr"](32),type:"approve",create_by:n["username"],create_time:r,table_name:_,table_id:m["business_data_id"],table_data:JSON.stringify(a.curRow),status:"wait",current_data:JSON.stringify({opeartion:"add",tableName:"PR_LOG",data:""}),history_data:JSON.stringify({operation:"add",tableName:"PR_LOG_HISTORY",data:x}),inform_data:JSON.stringify({operation:"add",tableName:"PR_LOG_INFORMED",data:M}),delete_data:JSON.stringify({operation:"delete",tableName:"PR_LOG",data:x}),origin_data:JSON.stringify({operation:"patch",tableName:_,id:m["business_data_id"],data:$}),trends_data:JSON.stringify({opeartion:"add",tableName:"",data:""}),task_data:JSON.stringify({opeartion:"add",tableName:"",data:""}),other_data:JSON.stringify({})},t.next=150,l["b"](_,m,W,null,x,$,R,a.wflowAddUsers,a.wflowNotifyUsers,N);case 150:return t.next=152,d.handleTaskItem();case 152:a.tipContent="同意审批成功，审批流程处理完毕！",t.next=182;break;case 155:if(D=0==D.indexOf(",")?D.substring(1):D,D=D.split(",")[0],$=y==D?{bpm_status:"3"}:{bpm_status:"2"},M={},"000000000"==m.business_code){t.next=169;break}return t.next=162,i["queryProcessNodeEmployee"](D);case 162:return P=t.sent,t.next=165,i["queryProcessNodeProcName"](D);case 165:F=t.sent,M={id:i["queryRandomStr"](32),table_name:_,main_value:m["main_value"],business_data_id:m["business_data_id"],business_code:a.fixedWFlow["id"],process_name:a.fixedWFlow["items"],employee:P[0]["employee"],process_station:F[0]["item_text"],process_audit:D,proponents:m["proponents"],content:m["content"],create_time:r,business_data:m.business_data},t.next=170;break;case 169:M={id:i["queryRandomStr"](32),table_name:_,main_value:m["business_data_id"],business_data_id:m["business_data_id"],business_code:"000000000",process_name:"自由流程审批",employee:D,process_station:"自由流程审批",process_audit:"000000000",proponents:m["proponents"],content:m["content"],operate_time:r,create_time:r,business_data:m.business_data};case 170:return t.next=172,i["queryApprovalLength"](_,m["business_data_id"]);case 172:if(V=t.sent,0!=V){t.next=177;break}a.tipContent="处理异常，请稍后重试；如果多次处理异常，可能需要撤销当前审批，重新发起审批流程！异常流程数据[status:".concat(V,"]"),t.next=182;break;case 177:return H={id:i["queryRandomStr"](32),type:"next",create_by:n["username"],create_time:r,table_name:_,table_id:m["business_data_id"],table_data:JSON.stringify(a.curRow),status:"wait",current_data:JSON.stringify({opeartion:"add",tableName:"PR_LOG",data:M}),history_data:JSON.stringify({operation:"add",tableName:"PR_LOG_HISTORY",data:x}),inform_data:JSON.stringify({operation:"add",tableName:"PR_LOG_INFORMED",data:""}),delete_data:JSON.stringify({operation:"delete",tableName:"PR_LOG",data:x}),origin_data:JSON.stringify({operation:"patch",tableName:_,id:m["business_data_id"],data:$}),trends_data:JSON.stringify({opeartion:"add",tableName:"",data:""}),task_data:JSON.stringify({opeartion:"add",tableName:"",data:""}),other_data:""},t.next=180,l["b"](_,m,H,M,x,$,R,a.wflowAddUsers,a.wflowNotifyUsers,N);case 180:a.tipContent="同意审批成功，审批流程已推向后续处理人！",console.log("operationData : "+H);case 182:return a.tipVisible=!0,i["setTimeouts"].apply(i,[function(){d.loadData()}].concat(Object(s["a"])(d.refreshInterval))),d.pageType="view",t.abrupt("return",e);case 186:case"end":return t.stop()}}),t,null,[[16,22],[33,39],[66,72],[80,100],[115,135,139,147],[140,,142,146]])})));function e(){return t.apply(this,arguments)}return e}()});case 20:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),handleTaskItem:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,a,n,r,s,o,l,c,p,d=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=d.length>0&&void 0!==d[0]?d[0]:"",a=u["n"]("table_name"),n=(new Date).getTime(),"bs_plan_task"!=a){t.next=39;break}r=!0,s=!1,o=void 0,t.prev=7,l=this.data[Symbol.iterator]();case 9:if(r=(c=l.next()).done){t.next=25;break}return p=c.value,delete p.no,delete p.real_start_time,delete p.real_end_time,delete p.date,delete p.work_date,p.create_time=u["i"](n,"yyyy-MM-dd"),p.depart_name=this.curRow.depart_name,p.status="待提交",t.next=21,i["postTableData"]("bs_plan_task_mission",p);case 21:e=t.sent;case 22:r=!0,t.next=9;break;case 25:t.next=31;break;case 27:t.prev=27,t.t0=t["catch"](7),s=!0,o=t.t0;case 31:t.prev=31,t.prev=32,r||null==l.return||l.return();case 34:if(t.prev=34,!s){t.next=37;break}throw o;case 37:return t.finish(34);case 38:return t.finish(31);case 39:return t.abrupt("return",e);case 40:case"end":return t.stop()}}),t,this,[[7,27,31,39],[32,,34,38]])})));function e(){return t.apply(this,arguments)}return e}(),handleRejectWF:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.$confirm_({title:"确认操作",content:"是否进行驳回审批操作?",onOk:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var a,n,r,o,p,d,m,f,_,y,w;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e,r=c["e"]("cur_user"),t.next=4,e.handleUserInfo(r);case 4:return o=u["i"]((new Date).getTime(),"yyyy-MM-dd hh:mm:ss"),p=p||"驳回",d=d||a.curRow.idea_content||"驳回",m=a.curRow,f=u["n"]("processLogID"),_=m["table_name"]||u["n"]("table_name"),y={bpm_status:"1"},t.next=13,i["queryProcessLogByID"](_,f);case 13:if(m=t.sent,u["e"](m["employee"]).includes(r["username"])||u["e"](m["employee"]).includes(r["realname"])){t.next=17;break}return a.$message.warning("您不在此审批流程记录的操作职员列中，无法进行驳回操作！"),t.abrupt("return",!1);case 17:return t.next=19,i["queryProcessLogByID"](_,m["id"]);case 19:return m=t.sent,t.next=22,i["queryProcessLog"](_,m["business_data_id"]);case 22:return w=t.sent,window.__.each(w,(function(t){var e=t["create_time"];t["approve_user"]=r["username"],t["action"]=p,t["operate_time"]=o,t["action_opinion"]=d,t["create_time"]=u["i"](e,"yyyy-MM-dd hh:mm:ss")})),t.next=26,l["b"](_,m,null,null,w,y);case 26:return a.tipVisible=!0,a.tipContent="驳回审批成功！",e.pageType="view",i["setTimeouts"].apply(i,[function(){e.loadData()}].concat(Object(s["a"])(e.refreshInterval))),t.abrupt("return",n);case 31:case"end":return t.stop()}}),t)})));function a(){return t.apply(this,arguments)}return a}()});case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),handleConfirmWF:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.$confirm_({title:"确认操作",content:"是否进行确认知会操作?",onOk:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var a,n,r,o,l,p,d,m,f,_,y,w;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e,r=c["e"]("cur_user"),t.next=4,e.handleUserInfo(r);case 4:return o=u["i"]((new Date).getTime(),"yyyy-MM-dd hh:mm:ss"),l=l||"知会",p=p||a.curRow.idea_content||"知会确认",d=a.curRow,m=u["n"]("processLogID"),f=u["n"]("table_name"),_={bpm_status:"5"},t.next=13,i["queryProcessLogInfByID"](f,m);case 13:if(d=t.sent,d["create_time"]=o,!(u["e"](d["approve_user"]).length>=u["e"](d["employee"]).length)){t.next=34;break}return t.prev=16,t.next=19,i["postProcessLogHistory"](d);case 19:return n=t.sent,t.next=22,i["deleteProcessLogInf"](f,[d]);case 22:return n=t.sent,t.next=25,i["patchTableData"](f,d["business_data_id"],_);case 25:n=t.sent,t.next=31;break;case 28:t.prev=28,t.t0=t["catch"](16),console.log(t.t0);case 31:return a.tipVisible=!0,a.tipContent="知会确认成功！",t.abrupt("return",!0);case 34:if(y=","+u["e"](d["employee"])+",",w=","+u["e"](d["approve_user"])+",",u["e"](y).includes(","+r["username"]+",")||u["e"](y).includes(","+r["realname"]+",")){t.next=39;break}return a.$message.warning("您不在此知会记录的操作职员列中，无法进行确认操作！"),t.abrupt("return",!1);case 39:if(!u["e"](w).includes(","+r["username"]+",")&&!u["e"](w).includes(","+r["realname"]+",")){t.next=42;break}return a.$message.warning("您已经在此知会记录中，执行过确认操作了！"),t.abrupt("return",!1);case 42:return d["approve_user"]=u["e"](d["approve_user"])+(""==u["e"](d["approve_user"])?"":",")+r["username"],d["action"]=l,d["operate_time"]=o,d["action_opinion"]=u["e"](d["action_opinion"])+(""==u["e"](d["action_opinion"])?"":"\n\r")+"".concat(r["username"],":").concat(p),t.next=48,i["patchTableData"]("PR_LOG_INFORMED",d["id"],d);case 48:if(!(d["approve_user"].length>=d["employee"].length)){t.next=64;break}return t.prev=49,t.next=52,i["postProcessLogHistory"](d);case 52:return n=t.sent,t.next=55,i["deleteProcessLogInf"](f,[d]);case 55:return n=t.sent,t.next=58,i["patchTableData"](f,d["business_data_id"],_);case 58:n=t.sent,t.next=64;break;case 61:t.prev=61,t.t1=t["catch"](49),console.log(t.t1);case 64:return a.tipVisible=!0,a.tipContent="知会确认成功！",e.pageType="view",i["setTimeouts"].apply(i,[function(){e.loadData()}].concat(Object(s["a"])(e.refreshInterval))),t.abrupt("return",n);case 69:case"end":return t.stop()}}),t,null,[[16,28],[49,61]])})));function a(){return t.apply(this,arguments)}return a}()});case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),handleSubmitWF:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,a,n,r,p,d,m,f,_,y,w,b,h,g,x,v,R,k,S,N,I,O,T=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this.wflowUsers,a=this.notifyUsers,n=this.approveUser,r=l["a"](e,a,n,this.pageType,this.$confirm_),p=u["n"]("table_name"),d=u["n"]("id"),t.next=8,i["queryApprovalExist"](p,d);case 8:if(m=t.sent,!m){t.next=13;break}return this.$confirm_({title:"温馨提示",content:"待审记录中，已经存在此记录，无法再次提交审批！"}),i["setTimeouts"].apply(i,[function(){T.loadData()}].concat(Object(s["a"])(this.refreshInterval))),t.abrupt("return",!0);case 13:if(m=c["e"]("start_free_process_@table_name#".concat(p,"@id#").concat(d)),"true"!=m){t.next=18;break}return this.$confirm_({title:"温馨提示",content:"此表单才提交过申请，请稍后再提交申请！"}),i["setTimeouts"].apply(i,[function(){T.loadData()}].concat(Object(s["a"])(this.refreshInterval))),t.abrupt("return",!0);case 18:if("bs_plan_task"!=p){t.next=89;break}f="",_=!0,y=!1,w=void 0,t.prev=23,b=this.data[Symbol.iterator]();case 25:if(_=(h=b.next()).done){t.next=36;break}return g=h.value,t.next=29,i["patchCnameEname"](g.create_by);case 29:if(x=t.sent,!u["k"](x)){t.next=33;break}return f=g.create_by,t.abrupt("break",36);case 33:_=!0,t.next=25;break;case 36:t.next=42;break;case 38:t.prev=38,t.t0=t["catch"](23),y=!0,w=t.t0;case 42:t.prev=42,t.prev=43,_||null==b.return||b.return();case 45:if(t.prev=45,!y){t.next=48;break}throw w;case 48:return t.finish(45);case 49:return t.finish(42);case 50:if(u["k"](f)){t.next=53;break}return this.$confirm_({title:"温馨提示",content:"计划任务中，分配责任人: ".concat(f," 不存在系统中，请修改后在提交审批！")}),t.abrupt("return",!1);case 53:f="",v=!0,R=!1,k=void 0,t.prev=57,S=this.data[Symbol.iterator]();case 59:if(v=(N=S.next()).done){t.next=72;break}if(I=N.value,!u["k"](I.task_exector)){t.next=63;break}return t.abrupt("continue",69);case 63:return t.next=65,i["patchCnameEname"](I.task_exector);case 65:if(O=t.sent,!u["k"](O)){t.next=69;break}return f=I.task_exector,t.abrupt("break",72);case 69:v=!0,t.next=59;break;case 72:t.next=78;break;case 74:t.prev=74,t.t1=t["catch"](57),R=!0,k=t.t1;case 78:t.prev=78,t.prev=79,v||null==S.return||S.return();case 81:if(t.prev=81,!R){t.next=84;break}throw k;case 84:return t.finish(81);case 85:return t.finish(78);case 86:if(u["k"](f)){t.next=89;break}return this.$confirm_({title:"温馨提示",content:"计划任务中，执行人员: ".concat(f," 不存在系统中，请修改后在提交审批！")}),t.abrupt("return",!1);case 89:if("bs_plan_task_mission"!=p){t.next=96;break}if("已完成"==this.curRow.status){t.next=93;break}return this.$confirm_({title:"温馨提示",content:"计划任务完成情况表，必须在完成状态为’已完成‘时，才可以提交审批！"}),t.abrupt("return",!1);case 93:if(!u["k"](this.curRow.remark)){t.next=96;break}return this.$confirm_({title:"温馨提示",content:"计划任务完成情况表，未填写’完成情况‘说明，无法提交审批！"}),t.abrupt("return",!1);case 96:if(r){t.next=98;break}return t.abrupt("return",r);case 98:this.$confirm_({title:"确认操作",content:"是否确认提交此自由流程?",onOk:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,a,n,r,o,m,f,_,y,w,b,h,g,x,v,R,k;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=c["e"]("cur_user"),t.next=3,T.handleUserInfo(e);case 3:if(a=T.wflowUsers,n=T.notifyUsers,r=T.approveUser,o=u["i"](new Date,"yyyy-MM-dd hh:mm:ss"),m=u["n"]("table_name"),f={id:i["queryRandomStr"](32),create_by:e["username"],create_time:o,table_name:m,main_key:u["n"]("id"),audit_node:u["e"](a),approve_node:u["e"](r),notify_node:u["e"](n)},""==u["e"](r)||"workflowing"!=T.pageType){t.next=34;break}return _=null,y=JSON.parse(JSON.stringify(f)),f={id:i["queryRandomStr"](32),table_name:m,main_value:u["n"]("id"),business_data_id:u["n"]("id"),business_code:"000000000",process_name:"自由流程审批",employee:e["username"],process_station:"自由流程审批",process_audit:"000000000",proponents:e["username"],approve_user:e["username"],action:"发起",action_opinion:"发起自由流程",content:T.curRow["content"]||T.curRow["title"]||T.curRow["plan_title"]||T.curRow["task_title"],operate_time:o,create_time:o,business_data:JSON.stringify(y)},w=JSON.parse(JSON.stringify(f)),b=""==u["e"](a)?u["e"](r):u["e"](a).split(",")[0],f={id:i["queryRandomStr"](32),table_name:m,main_value:u["n"]("id"),business_data_id:u["n"]("id"),business_code:"000000000",process_name:"自由流程审批",employee:b,process_station:"自由流程审批",process_audit:"000000000",proponents:e["username"],content:T.curRow["content"]||T.curRow["title"]||T.curRow["plan_title"]||T.curRow["task_title"],operate_time:o,create_time:o,business_data:JSON.stringify(f)},h=JSON.parse(JSON.stringify(f)),t.next=19,i["queryApprovalExist"](m,T.curRow["id"]);case 19:if(g=t.sent,!g){t.next=26;break}return T.$confirm_({title:"温馨提示",content:"待审记录中，已经存在此记录，无法再次提交审批！"}),i["setTimeouts"].apply(i,[function(){T.loadData()}].concat(Object(s["a"])(T.refreshInterval))),t.abrupt("return",!0);case 26:return t.next=28,l["d"](m,T.curRow,y,w,h,"2");case 28:return console.log(" 提交审批返回结果: "+JSON.stringify(_)),T.$confirm_({title:"操作成功",content:"提交自由流程审批成功！",onOk:function(){console.log("提交自由流程审批成功！")}}),c["g"]("start_free_process_@table_name#".concat(p,"@id#").concat(d),"true",60),T.pageType="view",i["setTimeouts"].apply(i,[function(){T.loadData()}].concat(Object(s["a"])(T.refreshInterval))),t.abrupt("return",!0);case 34:if(""==u["e"](n)||"notifying"!=T.pageType){t.next=64;break}return t.next=37,i["queryTableData"](m,u["n"]("id"));case 37:return x=t.sent,t.next=40,i["queryPRLogInfTotal"](u["n"]("id"));case 40:return v=t.sent,t.next=43,i["queryTableDataByField"]("v_handling_events","id",u["n"]("id"));case 43:if(R=t.sent,4==x["bpm_status"]||5==x["bpm_status"]){t.next=47;break}return T.$confirm_({title:"温馨提示",content:"此表单业务尚未审批通过，无法进行知会操作！"}),t.abrupt("return",!0);case 47:if(!(""!=u["e"](v)&&v.today>=3)){t.next=50;break}return T.$confirm_({title:"温馨提示",content:"同一业务数据，每天最多知会3次！"}),t.abrupt("return",!0);case 50:if(!(""!=u["e"](v)&&v.total>=10)){t.next=53;break}return T.$confirm_({title:"温馨提示",content:"同一业务数据，总计最多知会10次！"}),t.abrupt("return",!0);case 53:if(!(""!=u["e"](R)&&R.length>=1)){t.next=56;break}return T.$confirm_({title:"温馨提示",content:"此表单业务已进行了知会操作，请不要重复提交!"}),t.abrupt("return",!0);case 56:return k={id:i["queryRandomStr"](32),table_name:m,main_value:u["n"]("id"),business_data_id:u["n"]("id"),business_code:"000000001",process_name:"自由流程知会",employee:u["e"](n),process_station:"自由流程知会",process_audit:"000000001",operate_time:o,create_time:o,proponents:e["username"],content:T.curRow["content"]||T.curRow["title"]||T.curRow["plan_title"]||T.curRow["task_title"],business_data:JSON.stringify(T.curRow)},t.next=59,i["postProcessLogInformed"](k);case 59:return _=t.sent,T.$confirm_({title:"操作成功",content:"知会操作成功！",onOk:function(){console.log("知会操作成功！")}}),T.pageType="view",i["setTimeouts"].apply(i,[function(){T.loadData()}].concat(Object(s["a"])(T.refreshInterval))),t.abrupt("return",!0);case 64:console.log("确认提交此自由流程！");case 65:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}()});case 99:case"end":return t.stop()}}),t,this,[[23,38,42,50],[43,,45,49],[57,74,78,86],[79,,81,85]])})));function e(){return t.apply(this,arguments)}return e}(),handleWriteComment:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e,a,n,r,o,l=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=u["k"](this.curRow.id)?u["n"]("id"):this.curRow.id,!u["k"](this.replayid)){t.next=10;break}return a={id:u["m"](),create_by:this.userInfo.username,create_time:u["i"](new Date,"yyyy-MM-dd hh:mm:ss"),content:"".concat(this.replayvalue," "),table_name:this.tableName,main_key:e,avatar:this.avatar},this.replayvalue="",this.$message.warning("评论成功！"),t.next=7,i["postTableData"]("bs_comments",JSON.parse(JSON.stringify(a)));case 7:this.loadData(),t.next=22;break;case 10:return t.next=12,i["queryTableData"]("bs_comments",this.replayid);case 12:return n=t.sent,r=u["k"](n.replay)?[]:JSON.parse(n.replay),r.push({id:u["m"](),create_by:this.userInfo.username,create_time:u["i"](new Date,"yyyy-MM-dd hh:mm:ss"),content:"".concat(this.replayvalue," "),table_name:this.tableName,avatar:this.avatar}),o={id:this.replayid,replay:JSON.stringify(r)},this.replayvalue="",t.next=19,i["patchTableData"]("bs_comments",this.replayid,JSON.parse(JSON.stringify(o)));case 19:i["setTimeouts"].apply(i,[function(){l.loadData()}].concat(Object(s["a"])(this.refreshInterval))),this.$message.warning("回复成功！"),this.replayid="";case 22:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),handleReplayComments:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e,a){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.replayvalue="@".concat(a," "),this.replayid=e,this.$nextTick((function(){try{this.$refs.input.focus(),this.$refs.textarea.focus()}catch(b){console.log(b)}}));case 3:case"end":return t.stop()}}),t,this)})));function e(e,a){return t.apply(this,arguments)}return e}(),handleLikeComment:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,i["queryTableData"]("bs_comments",e);case 2:return a=t.sent,n={id:e,likes:a.likes+1},t.next=6,i["patchTableData"]("bs_comments",e,JSON.parse(JSON.stringify(n)));case 6:this.loadData(),this.$message.warning("点赞成功！");case 8:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),handleDislikeComment:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,i["queryTableData"]("bs_comments",e);case 2:return a=t.sent,n={id:e,dislikes:a.dislikes+1},t.next=6,i["patchTableData"]("bs_comments",e,JSON.parse(JSON.stringify(n)));case 6:this.loadData(),this.$message.warning("鄙视成功！");case 8:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),handleDeleteComments:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e,a){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,i["queryTableData"]("bs_comments",e);case 2:if(n=t.sent,this.userInfo.username==a&&this.userInfo.username==n.create_by){t.next=7;break}this.$message.warning("无法删除他人评论！"),t.next=12;break;case 7:return this.replayvalue="",t.next=10,i["deleteTableData"]("bs_comments",e);case 10:this.loadData(),this.$message.warning("删除回复成功！");case 12:case"end":return t.stop()}}),t,this)})));function e(e,a){return t.apply(this,arguments)}return e}(),handleDeleteSubComment:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e,a){var n,r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,i["queryTableData"]("bs_comments",e);case 2:return n=t.sent,r=u["k"](n.replay)?[]:JSON.parse(n.replay),r=window.__.reject(r,(function(t){return t.id==a})),s={id:e,replay:JSON.stringify(r)},this.replayvalue="",t.next=9,i["patchTableData"]("bs_comments",e,JSON.parse(JSON.stringify(s)));case 9:this.loadData(),this.$message.warning("删除评论成功！"),this.replayid="";case 12:case"end":return t.stop()}}),t,this)})));function e(e,a){return t.apply(this,arguments)}return e}(),handleLikeSubComment:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e,a){var n,r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,i["queryTableData"]("bs_comments",e);case 2:return n=t.sent,r=u["k"](n.replay)?[]:JSON.parse(n.replay),window.__.each(r,(function(t){t.id==a&&(t.likes=u["k"](t.likes)?1:t.likes+1)})),s={id:e,replay:JSON.stringify(r)},this.replayvalue="",t.next=9,i["patchTableData"]("bs_comments",e,JSON.parse(JSON.stringify(s)));case 9:this.loadData(),this.$message.warning("点赞成功！");case 11:case"end":return t.stop()}}),t,this)})));function e(e,a){return t.apply(this,arguments)}return e}(),handleDislikeSubComment:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(e,a){var n,r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,i["queryTableData"]("bs_comments",e);case 2:return n=t.sent,r=u["k"](n.replay)?[]:JSON.parse(n.replay),window.__.each(r,(function(t){t.id==a&&(t.dislikes=u["k"](t.dislikes)?1:t.dislikes+1)})),s={id:e,replay:JSON.stringify(r)},this.replayvalue="",t.next=9,i["patchTableData"]("bs_comments",e,JSON.parse(JSON.stringify(s)));case 9:this.loadData(),this.$message.warning("鄙视成功！");case 11:case"end":return t.stop()}}),t,this)})));function e(e,a){return t.apply(this,arguments)}return e}(),handleCancelComment:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.replayvalue="",this.commentFlag="no",this.$message.warning("取消评论！");case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}},_=f,y=(a("39b5"),a("9677"),a("2877")),w=Object(y["a"])(_,n,r,!1,null,"1062ebdc",null);e["default"]=w.exports}}]);